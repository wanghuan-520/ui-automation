# GodGPT V1.19.0 功能测试用例

## 分享邀请系统
### 邀请功能基础验证
#### 邀请弹框展示与交互
##### 从不同入口打开邀请弹框并验证内容完整性
###### 预期结果
- Invite Friends页面点击Invite Now按钮成功打开弹框
- 会话页面（算命/普通）成功打开弹框
- App端截屏后成功打开弹框
- 弹框顶部正确展示邀请活动内容
- 正确显示邀请好友数量和奖励阶梯
- 正确显示邀请码、邀请过程、奖励明细

### 邀请系统兼容性验证
#### 分享功能兼容性验证
##### 验证分享图片在不同设备的兼容性
###### 预期结果
- iOS设备可以正常保存和分享图片
- Android设备可以正常保存和分享图片
- Web端可以正常下载和分享图片

### 邀请系统边界场景验证
#### 邀请码规则验证
##### 验证邀请码格式规则
###### 预期结果
- 邀请码长度符合系统规定
- 邀请码只包含允许的字符集
- 系统正确识别并验证邀请码格式

##### 验证72小时时间窗口边界
###### 预期结果
- 71小时59分时可以正常使用邀请码
- 72小时整时刚好无法使用邀请码
- 72小时1分时显示超时提示

#### 奖励计算边界验证
##### 验证连续邀请场景下的奖励计算
###### 预期结果
- 首次成功邀请（第1位）获得30 Credits
- 成功邀请第2位用户不获得额外Credits
- 成功邀请第3位用户不获得额外Credits
- 成功邀请第4位用户获得100 Credits（累计3位后的奖励）
- 成功邀请第5位用户不获得额外Credits
- 成功邀请第6位用户不获得额外Credits
- 成功邀请第7位用户获得100 Credits（再次累计3位后的奖励）
- 奖励累加计算准确无误，系统正确记录邀请计数

##### 验证被邀请人付费奖励计算
###### 预期结果
- Weekly Premium首次付费
  - 邀请人获得100 Credits
  - 奖励立即发放
  - 系统正确记录奖励发放状态

- Weekly Ultimate首次付费
  - 邀请人获得500 Credits
  - 奖励立即发放
  - 系统正确记录奖励发放状态

- Monthly Premium首次付费
  - 邀请人获得400 Credits
  - 奖励立即发放
  - 系统正确记录奖励发放状态

- Monthly Ultimate首次付费
  - 邀请人获得2000 Credits
  - 奖励立即发放
  - 系统正确记录奖励发放状态

- Annual Premium首次付费
  - 邀请人获得4000 Credits
  - 奖励在30天后发放
  - 系统正确记录待发放状态
  - 30天后自动发放奖励

- Annual Ultimate首次付费
  - 邀请人获得20000 Credits
  - 奖励在30天后发放
  - 系统正确记录待发放状态
  - 30天后自动发放奖励

##### 验证付费奖励特殊场景
###### 预期结果
- 被邀请人重复付费不触发奖励
- 被邀请人升级订阅不触发奖励
- 被邀请人取消订阅不影响已发放奖励
- 30天内被邀请人取消年付费订阅，待发放奖励自动取消
- 邀请人账号注销，待发放奖励自动取消
- 系统正确处理并发付费场景下的奖励发放

##### 验证年付费延迟发放场景
###### 预期结果
- 系统正确记录年付费奖励待发放状态
- 30天后准确发放对应Credits
- 发放过程中状态变化正确
- 用户可查看待发放奖励状态

### 邀请系统异常场景验证
#### 网络异常处理
##### 验证网络异常情况下的邀请流程
###### 预期结果
- 网络中断时保存邀请记录
- 网络恢复后自动补发奖励
- 用户收到相应的网络异常提示

##### 验证并发邀请场景
###### 预期结果
- 多个被邀请用户同时注册时正确处理
- 奖励计算和发放顺序正确
- 不重复发放奖励

#### 分享异常处理
##### 验证分享图片保存失败场景
###### 预期结果
- 存储空间不足时显示适当提示
- 权限受限时引导用户开启权限
- 保存失败时提供重试选项

##### 验证分享链接生成异常
###### 预期结果
- 服务器异常时提供友好提示
- 链接生成失败时可以重新生成
- 异常恢复后自动重试生成

### 邀请系统多设备同步验证
#### 奖励同步验证
##### 验证多设备邀请奖励同步
###### 预期结果
- A设备邀请的奖励在B设备上同步显示
- 奖励状态在所有设备上保持一致
- 待发放奖励在所有设备上可见

##### 验证设备切换场景
###### 预期结果
- 从iOS切换到Web端邀请记录保持一致
- 从Android切换到iOS邀请记录保持一致
- 奖励状态在设备间正确同步

## 公式复制功能
### 公式标记验证
#### 标记一致性验证
##### 验证公式标记规范
###### 预期结果
- 公式开始和结束使用相同的标记
- 标记显示正确且格式一致
- 不同类型公式标记统一

### 复制功能验证
#### 长按复制验证
##### 验证长按复制功能
###### 预期结果
- 长按公式可以成功复制
- 复制的公式内容无乱码
- 格式保持完整

#### 复制按钮验证
##### 验证左下角复制按钮
###### 预期结果
- 点击左下角复制按钮可以成功复制公式
- 复制的公式内容无乱码
- 格式保持完整

### 平台兼容性验证
#### Web端复制限制验证
##### 验证Web端复制功能限制
###### 预期结果
- Web端不支持选择复制功能
- Web端左下角复制功能正常
- 与iOS端复制功能表现一致

#### iOS端复制验证
##### 验证iOS端选择复制功能
###### 预期结果
- iOS端可以选择公式并复制
- 复制后的公式以特定格式显示
- 格式正确且可用

## 序列化测试
### 历史数据验证
#### SignalR账号验证
##### 验证历史SignalR账号功能完整性
###### 预期结果
- 历史账号可以正常登录
- 历史数据正确显示
- 所有功能正常使用

##### 验证历史数据迁移
###### 预期结果
- 历史聊天记录完整保留
- 历史设置正确迁移
- 用户偏好设置保持不变

### 功能完整性验证
#### 全流程功能验证
##### 验证所有功能的序列化测试
###### 预期结果
- 所有功能按顺序正常运行
- 功能间交互无异常
- 数据保持一致性

## Profile显示功能
### 基础信息显示验证
#### 用户信息完整性验证
##### 验证用户信息显示
###### 预期结果
- 正确显示用户头像
- 正确显示用户邮箱
- 正确显示用户UID
- 当name不存在时不显示name字段

### 信息更新验证
#### 实时更新验证
##### 验证信息更新机制
###### 预期结果
- 修改信息后实时更新显示
- 跨设备信息同步正确
- 缓存机制正常工作

## Modal改造功能
### 交互体验验证
#### 基础交互验证
##### 验证Modal基础功能
###### 预期结果
- Modal可以流畅滑动
- 点击遮罩层可以关闭Modal
- iOS端点击区域响应正确

### 兼容性验证
#### 设备兼容性验证
##### 验证不同设备适配
###### 预期结果
- 在不同设备上显示正常
- 不同系统版本下工作正常
- 与其他UI元素不发生冲突

## 输入框长度限制
### 基础输入验证
#### 普通文本输入限制
###### 预期结果
- 输入框可以输入最多10,000字符
- 超过限制后无法继续输入
- 字符计数显示正确

#### 粘贴文本限制
###### 预期结果
- 粘贴超过10,000字符的文本时自动截断
- 截断后的文本长度为10,000字符
- 不会出现异常或崩溃

### 特殊输入验证
#### 特殊字符验证
##### 验证特殊字符输入
###### 预期结果
- 特殊字符正确计入字符数
- Unicode字符正确处理
- 表情符号正确计数

#### 粘贴功能验证
##### 验证粘贴文本限制
###### 预期结果
- 粘贴超长文本自动截断
- 截断提示正确显示
- 保持文本完整性

## Bug修复验证
### Android性能优化
#### 应用流畅度验证
###### 预期结果
- 应用不出现卡顿现象
- 输入框正常上移
- 页面可以流畅滑动

### iOS问题修复
#### 密码显示功能验证
###### 预期结果
- 密码显示按钮工作正常
- 切换密码显示/隐藏状态正确
- 不同场景下按钮状态保持一致

### 通用功能修复
#### 会话页面符号解析验证
###### 预期结果
- 正确解析并显示"?"符号
- 不影响其他符号的显示
- 消息格式保持正确

#### 账号登录稳定性验证
###### 预期结果
- 登录过程不出现无限"logging in"状态
- 登录失败时给出明确提示
- 成功登录后正确进入应用

#### 消息滚动行为验证
###### 预期结果
- 回复时上滑不强制滚动到底部
- 用户可以自由控制滚动位置
- 滚动行为流畅自然

### Web端优化
#### Stripe支付返回验证
###### 预期结果
- Stripe支付后正确返回原页面
- plan弹框状态保持不变
- 支付状态正确更新

#### iOS账号删除重登验证
###### 预期结果
- 删除账号后重新登录弹框显示正常
- 登录流程可以正常完成
- 不出现异常的弹框状态 