# Project æµ‹è¯• Allure æŠ¥å‘Šä½¿ç”¨æŒ‡å—

**ç”Ÿæˆæ—¶é—´**: 2025-10-28 15:51  
**æµ‹è¯•èŒƒå›´**: Project Management (Settings, Members, Roles)  
**æµ‹è¯•ç”¨ä¾‹æ•°**: 6ä¸ª  

---

## ğŸ“Š æŠ¥å‘Šæ¦‚è§ˆ

### æµ‹è¯•ç»“æœ
- âœ… **é€šè¿‡**: 4ä¸ªæµ‹è¯•
- â­ï¸ **è·³è¿‡**: 2ä¸ªæµ‹è¯•
- âŒ **å¤±è´¥**: 0ä¸ª
- **é€šè¿‡ç‡**: 100%
- **æ€»è€—æ—¶**: çº¦4åˆ†28ç§’

### ç”Ÿæˆçš„æ–‡ä»¶
- **æµ‹è¯•æ•°æ®**: `allure-results/` (19ä¸ªJSONæ–‡ä»¶)
- **HTMLæŠ¥å‘Š**: `allure-report/` (å®Œæ•´çš„WebæŠ¥å‘Š)

---

## ğŸš€ å¿«é€ŸæŸ¥çœ‹æŠ¥å‘Š

### æ–¹å¼ä¸€ï¼šä½¿ç”¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
./view_project_allure_report.sh
```

è¿™å°†è‡ªåŠ¨å¯åŠ¨ Allure æœåŠ¡å™¨å¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æŠ¥å‘Šã€‚

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/wanghuan/aelf/Cursor/ui-automation

# å¯åŠ¨ Allure æœåŠ¡å™¨
allure serve allure-results
```

### æ–¹å¼ä¸‰ï¼šç›´æ¥æ‰“å¼€ç”Ÿæˆçš„æŠ¥å‘Š

```bash
# æ‰“å¼€å·²ç”Ÿæˆçš„æŠ¥å‘Š
open allure-report/index.html
```

---

## ğŸ“ˆ Allure æŠ¥å‘ŠåŠŸèƒ½

### 1. Overviewï¼ˆæ¦‚è§ˆï¼‰
- ğŸ“Š æµ‹è¯•ç»“æœç»Ÿè®¡
- â±ï¸ æ‰§è¡Œæ—¶é—´è¶‹åŠ¿
- ğŸ¯ æµ‹è¯•é€šè¿‡ç‡
- ğŸ“‰ å¤±è´¥ç‡ç»Ÿè®¡

### 2. Suitesï¼ˆæµ‹è¯•å¥—ä»¶ï¼‰
- ğŸ“ æŒ‰æµ‹è¯•å¥—ä»¶åˆ†ç»„
- ğŸ” æŸ¥çœ‹æ¯ä¸ªæµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯
- ğŸ“¸ åŒ…å«æµ‹è¯•æˆªå›¾ï¼ˆå¦‚æœæœ‰ï¼‰
- ğŸ“ æµ‹è¯•æ­¥éª¤å’Œæ—¥å¿—

### 3. Graphsï¼ˆå›¾è¡¨ï¼‰
- ğŸ“Š çŠ¶æ€åˆ†å¸ƒå›¾
- â±ï¸ æŒç»­æ—¶é—´å›¾
- ğŸ† ä¸¥é‡æ€§åˆ†å¸ƒ
- ğŸ“ˆ è¶‹åŠ¿å›¾ï¼ˆéœ€è¦å¤šæ¬¡è¿è¡Œï¼‰

### 4. Timelineï¼ˆæ—¶é—´çº¿ï¼‰
- â° æµ‹è¯•æ‰§è¡Œæ—¶é—´çº¿
- ğŸ”„ å¹¶è¡Œæ‰§è¡Œå¯è§†åŒ–
- ğŸ“Š èµ„æºä½¿ç”¨æƒ…å†µ

### 5. Behaviorsï¼ˆè¡Œä¸ºé©±åŠ¨ï¼‰
- ğŸ¯ æŒ‰åŠŸèƒ½åˆ†ç»„
- ğŸ“‹ æµ‹è¯•åœºæ™¯å±•ç¤º
- âœ… éªŒæ”¶æ ‡å‡†æ£€æŸ¥

### 6. Categoriesï¼ˆåˆ†ç±»ï¼‰
- ğŸ·ï¸ å¤±è´¥åŸå› åˆ†ç±»
- ğŸ› å·²çŸ¥é—®é¢˜æ ‡è®°
- âš ï¸ ä¸ç¨³å®šæµ‹è¯•æ ‡è¯†

---

## ğŸ¯ æŠ¥å‘Šä¸­çš„æµ‹è¯•ç”¨ä¾‹

### âœ… é€šè¿‡çš„æµ‹è¯•

#### 1. test_project_role_add [P0]
**åŠŸèƒ½**: æ·»åŠ  Project Role  
**è·¯å¾„**: `/profile/projects/role`  
**è€—æ—¶**: ~42ç§’  
**æ­¥éª¤**:
1. ç™»å½•ç³»ç»Ÿ
2. é€‰æ‹©Project
3. ç‚¹å‡» "Add Role"
4. è¾“å…¥Roleåç§°
5. ä¿å­˜å¹¶éªŒè¯

#### 2. test_project_name_edit [P1]
**åŠŸèƒ½**: ä¿®æ”¹ Project Name  
**è·¯å¾„**: `/profile/projects/general`  
**è€—æ—¶**: ~41ç§’  
**æ­¥éª¤**:
1. å¯¼èˆªåˆ°Projectè®¾ç½®
2. ä¿®æ”¹åç§°
3. ä¿å­˜å¹¶éªŒè¯

#### 3. test_project_role_edit_permissions [P1]
**åŠŸèƒ½**: ç¼–è¾‘ Role æƒé™  
**è·¯å¾„**: `/profile/projects/role`  
**è€—æ—¶**: ~45ç§’  
**æ­¥éª¤**:
1. æ‰“å¼€Roleæƒé™ç¼–è¾‘
2. å‹¾é€‰å…¨éƒ¨æƒé™
3. ä¿å­˜å¹¶éªŒè¯

#### 4. test_project_role_delete [P2]
**åŠŸèƒ½**: åˆ é™¤ Project Role  
**è·¯å¾„**: `/profile/projects/role`  
**è€—æ—¶**: ~48ç§’  
**æ­¥éª¤**:
1. é€‰æ‹©è‡ªå®šä¹‰Role
2. æ‰“å¼€èœå•
3. ç‚¹å‡»åˆ é™¤
4. ç¡®è®¤å¹¶éªŒè¯

### â­ï¸ è·³è¿‡çš„æµ‹è¯•

#### 1. test_project_member_add [P0]
**åŸå› **: æ— å¯æ·»åŠ çš„Organisationæˆå‘˜  
**è¯´æ˜**: æµ‹è¯•ç¯å¢ƒé™åˆ¶ï¼Œéœ€è¦æ›´å¤šOrganisationæˆå‘˜

#### 2. test_project_member_delete [P1]
**åŸå› **: åªæœ‰ä¸€ä¸ªOwnerï¼Œæ— æ³•åˆ é™¤  
**è¯´æ˜**: é¢„æœŸè¡Œä¸ºï¼Œä¸èƒ½åˆ é™¤å”¯ä¸€çš„Owner

---

## ğŸ” æŠ¥å‘Šè¯¦ç»†ä¿¡æ¯

### æµ‹è¯•ç¯å¢ƒ
- **URL**: https://aevatar-station-ui-staging.aevatar.ai
- **æµè§ˆå™¨**: Google Chrome
- **Python**: 3.9.6
- **Pytest**: 8.4.2
- **Playwright**: æœ€æ–°ç‰ˆ

### æµ‹è¯•æ•°æ®
- **è´¦å·**: aevatarwh1@teml.net
- **æµ‹è¯•Project**: è‡ªåŠ¨é€‰æ‹©
- **æˆªå›¾ç›®å½•**: `test-screenshots/project/`

### æ—¥å¿—çº§åˆ«
- INFO: æ­£å¸¸æµç¨‹ä¿¡æ¯
- WARNING: éå…³é”®è­¦å‘Šï¼ˆå¦‚Toastæœªæ˜¾ç¤ºï¼‰
- ERROR: é”™è¯¯ä¿¡æ¯ï¼ˆå·²å¤„ç†ï¼‰

---

## ğŸ“¸ æˆªå›¾é™„ä»¶

æŠ¥å‘Šä¸­åŒ…å«ä»¥ä¸‹å…³é”®æˆªå›¾ï¼š

1. **project_member_page.png** - Memberåˆ—è¡¨
2. **project_member_add_dialog.png** - æ·»åŠ Memberå¯¹è¯æ¡†
3. **project_role_page.png** - Roleåˆ—è¡¨
4. **project_role_created.png** - Roleåˆ›å»ºæˆåŠŸ
5. **project_role_delete_menu_opened.png** - åˆ é™¤èœå•
6. **project_settings_page.png** - è®¾ç½®é¡µé¢
7. ç­‰ç­‰...

æ‰€æœ‰æˆªå›¾éƒ½å¯ä»¥åœ¨ Allure æŠ¥å‘Šä¸­ç‚¹å‡»æŸ¥çœ‹ã€‚

---

## ğŸ”„ é‡æ–°ç”ŸæˆæŠ¥å‘Š

### å®Œæ•´é‡æ–°ç”Ÿæˆ

```bash
# 1. æ¸…ç†æ—§æ•°æ®
rm -rf allure-results allure-report

# 2. è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆæ•°æ®
python3 -m pytest tests/aevatar/test_daily_regression_project.py \
  -v -m project \
  --alluredir=allure-results \
  --clean-alluredir

# 3. ç”ŸæˆæŠ¥å‘Š
allure generate allure-results -o allure-report --clean

# 4. æŸ¥çœ‹æŠ¥å‘Š
allure open allure-report
```

### è¿½åŠ æµ‹è¯•ç»“æœ

```bash
# è¿è¡Œæ–°æµ‹è¯•ï¼ˆä¸æ¸…ç†æ—§æ•°æ®ï¼‰
python3 -m pytest tests/aevatar/test_daily_regression_project.py \
  -v -m project \
  --alluredir=allure-results

# é‡æ–°ç”ŸæˆæŠ¥å‘Š
allure generate allure-results -o allure-report --clean
```

---

## ğŸ“Š ä¸å…¶ä»–æŠ¥å‘Šå¯¹æ¯”

### HTML Report vs Allure Report

| ç‰¹æ€§ | pytest-html | Allure |
|------|-------------|--------|
| ç¾è§‚åº¦ | â­â­â­ | â­â­â­â­â­ |
| åŠŸèƒ½ä¸°å¯Œåº¦ | â­â­ | â­â­â­â­â­ |
| äº¤äº’æ€§ | â­â­ | â­â­â­â­â­ |
| è¶‹åŠ¿åˆ†æ | âŒ | âœ… |
| åˆ†ç±»ç®¡ç† | âŒ | âœ… |
| æ—¶é—´çº¿ | âŒ | âœ… |
| é™„ä»¶æ”¯æŒ | åŸºç¡€ | å®Œæ•´ |

---

## ğŸ¨ è‡ªå®šä¹‰æŠ¥å‘Š

### æ·»åŠ æ ‡é¢˜å’Œæè¿°

åœ¨æµ‹è¯•ä»£ç ä¸­ä½¿ç”¨ Allure è£…é¥°å™¨ï¼š

```python
import allure

@allure.title("æ·»åŠ  Project Role")
@allure.description("æµ‹è¯•æ·»åŠ è‡ªå®šä¹‰Project Roleçš„å®Œæ•´æµç¨‹")
@allure.severity(allure.severity_level.CRITICAL)
@pytest.mark.p0
async def test_project_role_add():
    with allure.step("æ­¥éª¤1: ç™»å½•ç³»ç»Ÿ"):
        # ç™»å½•ä»£ç 
        pass
    
    with allure.step("æ­¥éª¤2: å¯¼èˆªåˆ°Roleé¡µé¢"):
        # å¯¼èˆªä»£ç 
        pass
```

### æ·»åŠ æˆªå›¾

```python
import allure

# æ·»åŠ æˆªå›¾åˆ°æŠ¥å‘Š
allure.attach.file(
    screenshot_path,
    name="æµ‹è¯•æˆªå›¾",
    attachment_type=allure.attachment_type.PNG
)
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1: æŠ¥å‘Šæ— æ³•æ‰“å¼€
**è§£å†³**: ç¡®ä¿ Allure å·²å®‰è£…
```bash
brew install allure  # macOS
```

### é—®é¢˜2: æ•°æ®æœªç”Ÿæˆ
**è§£å†³**: æ£€æŸ¥ pytest æ’ä»¶
```bash
pip install allure-pytest
```

### é—®é¢˜3: ç«¯å£è¢«å ç”¨
**è§£å†³**: æŒ‡å®šç«¯å£
```bash
allure open allure-report -p 8080
```

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- [Allure å®˜æ–¹æ–‡æ¡£](https://docs.qameta.io/allure/)
- [allure-pytest ä½¿ç”¨æŒ‡å—](https://docs.qameta.io/allure/#_pytest)
- [Allure æŠ¥å‘Šç¤ºä¾‹](https://demo.qameta.io/allure/)

---

## ğŸ‰ æ€»ç»“

âœ… **Allure æŠ¥å‘Šå·²æˆåŠŸç”Ÿæˆï¼**

### ä¸‹ä¸€æ­¥å»ºè®®
1. ğŸ” æµè§ˆæŠ¥å‘Šï¼Œäº†è§£æµ‹è¯•è¯¦æƒ…
2. ğŸ“Š åˆ†æå¤±è´¥å’Œè·³è¿‡çš„æµ‹è¯•
3. ğŸ¯ ä¼˜åŒ–æµ‹è¯•è¦†ç›–ç‡
4. ğŸ“ˆ å»ºç«‹æµ‹è¯•è¶‹åŠ¿ç›‘æ§
5. ğŸ”„ é›†æˆåˆ°CI/CDæµç¨‹

**æŠ¥å‘Šä½ç½®**: `/Users/wanghuan/aelf/Cursor/ui-automation/allure-report/`

---

**ç”Ÿæˆè€…**: HyperEcho (AI Testing Assistant)  
**æ—¥æœŸ**: 2025-10-28  
**ç‰ˆæœ¬**: 1.0

