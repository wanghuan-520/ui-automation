# UIè‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆè§„åˆ™

## è§„åˆ™æ¦‚è¿°
åŸºäº @doc/test-case.md ä¸­çš„æµ‹è¯•è®¡åˆ’ï¼Œè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„UIè‡ªåŠ¨åŒ–æµ‹è¯•ä»£ç ï¼ŒåŒ…æ‹¬é¡µé¢å¯¹è±¡ã€æµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•æ•°æ®ã€‚

## è§¦å‘æ¡ä»¶
- ç”¨æˆ·è¦æ±‚"ç”Ÿæˆè‡ªåŠ¨åŒ–ä»£ç "
- ç”¨æˆ·æåˆ°"å®ç°æµ‹è¯•ç”¨ä¾‹"
- ç”¨æˆ·ä¸Šä¼ æˆ–å¼•ç”¨æµ‹è¯•è®¡åˆ’æ–‡æ¡£
- å­˜åœ¨ @doc/test-case.md æ–‡ä»¶

## ä»£ç ç”Ÿæˆè§„èŒƒ

### 1. é¡µé¢å¯¹è±¡ç”Ÿæˆ
åŸºäº @pages/base_page.py æ¨¡æ¿ï¼š

```python
from playwright.sync_api import Page
from pages.base_page import BasePage
from utils.logger import get_logger

logger = get_logger(__name__)

class [PageName]Page(BasePage):
    """[é¡µé¢æè¿°]é¡µé¢å¯¹è±¡"""
    
    # é¡µé¢å…ƒç´ å®šä½å™¨
    [ELEMENT_NAME]_INPUT = "[selector]"
    [BUTTON_NAME]_BUTTON = "[selector]"
    
    # é¡µé¢åŠ è½½æŒ‡ç¤ºå™¨
    page_loaded_indicator = "[main_element_selector]"
    
    def __init__(self, page: Page):
        super().__init__(page)
        self.page_url = f"{self.base_url}/[page_path]"
    
    def navigate(self) -> None:
        """å¯¼èˆªåˆ°[é¡µé¢åç§°]é¡µé¢"""
        logger.info(f"å¯¼èˆªåˆ°[é¡µé¢åç§°]é¡µé¢: {self.page_url}")
        self.page.goto(self.page_url)
        self.wait_for_page_load()
    
    def is_loaded(self) -> bool:
        """æ£€æŸ¥é¡µé¢æ˜¯å¦åŠ è½½å®Œæˆ"""
        return self.is_element_visible(self.page_loaded_indicator)
    
    # ä¸šåŠ¡æ“ä½œæ–¹æ³•
    def @action_method:
        """[æ“ä½œæè¿°]"""
        logger.info(f"æ‰§è¡Œ[æ“ä½œæè¿°]: {param1}")
        # å®ç°å…·ä½“æ“ä½œ
        pass
```

### 2. æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
åŸºäº @tests/test_demo.py æ¨¡æ¿ï¼š

```python
import pytest
from playwright.sync_api import Page
from pages.[page_name]_page import [PageName]Page
from utils.data_manager import DataManager
from utils.logger import get_logger

logger = get_logger(__name__)

class Test[PageName]:
    """[é¡µé¢åç§°]åŠŸèƒ½æµ‹è¯•ç±»"""
    
    @pytest.fixture(scope="session")
    def logged_in_session(self, page: Page):
        """ä¼šè¯çº§åˆ«çš„ç™»å½•çŠ¶æ€fixture - æé«˜æ‰§è¡Œæ•ˆç‡"""
        from pages.login_page import LoginPage
        login_page = LoginPage(page)
        # æ‰§è¡Œç™»å½•æ“ä½œï¼ˆä»…ä¸€æ¬¡ï¼‰
        login_page.login(username="test_user", password="test_pass")
        yield page
        # ä¼šè¯ç»“æŸæ—¶æ¸…ç†
    
    @pytest.fixture(autouse=True)
    def setup(self, logged_in_session: Page):
        """æµ‹è¯•å‰ç½®è®¾ç½® - å¤ç”¨ç™»å½•çŠ¶æ€"""
        self.page = logged_in_session
        self.[page_name]_page = [PageName]Page(logged_in_session)
        self.test_data = DataManager.get_test_data("[data_file]", "[test_case]")
        self.test_id = ""  # ç”¨äºæˆªå›¾å‘½å
    
    @pytest.mark.P0  # æˆ– P1ã€P2 æ ¹æ®ä¼˜å…ˆçº§é€‰æ‹©
    @pytest.mark.functional
    def test_p0_@test_case_name:  # æ–¹æ³•åå¿…é¡»åŒ…å«ä¼˜å…ˆçº§å‰ç¼€: p0_ã€p1_ã€p2_
        """[æµ‹è¯•ç”¨ä¾‹æè¿°]"""
        self.test_id = "TC_[case_id]"
        logger.info(f"å¼€å§‹æµ‹è¯•: {self.test_id} - [æµ‹è¯•ç”¨ä¾‹æè¿°]")
        
        # å…³é”®æ­¥éª¤1: å¯¼èˆªåˆ°é¡µé¢
        self.[page_name]_page.screenshot(f"{self.test_id}_step1_before_navigate")
        self.[page_name]_page.navigate()
        self.[page_name]_page.screenshot(f"{self.test_id}_step1_after_navigate")
        
        # æ£€æŸ¥ç‚¹1: é¡µé¢åŠ è½½éªŒè¯
        assert self.[page_name]_page.is_loaded(), "é¡µé¢æœªæ­£ç¡®åŠ è½½"
        assert self.[page_name]_page.is_element_visible(self.[page_name]_page.page_loaded_indicator), "é¡µé¢ä¸»å…ƒç´ ä¸å¯è§"
        
        # å…³é”®æ­¥éª¤2: æ‰§è¡Œæ ¸å¿ƒæ“ä½œ
        self.[page_name]_page.screenshot(f"{self.test_id}_step2_before_action")
        # æ‰§è¡Œå…·ä½“æ“ä½œ
        result = self.[page_name]_page.[action_method](param1, param2)
        self.[page_name]_page.screenshot(f"{self.test_id}_step2_after_action")
        
        # æ£€æŸ¥ç‚¹2: æ“ä½œç»“æœéªŒè¯
        assert result is not None, "æ“ä½œæœªè¿”å›é¢„æœŸç»“æœ"
        assert self.[page_name]_page.is_element_visible("[success_indicator]"), "æˆåŠŸæç¤ºæœªæ˜¾ç¤º"
        
        # æ£€æŸ¥ç‚¹3: æ•°æ®ä¸€è‡´æ€§éªŒè¯
        actual_value = self.[page_name]_page.get_element_text("[result_element]")
        expected_value = self.test_data.get("expected_result")
        assert actual_value == expected_value, f"æ•°æ®ä¸åŒ¹é…: æœŸæœ›{expected_value}, å®é™…{actual_value}"
        
        # æ£€æŸ¥ç‚¹4: ä¸šåŠ¡é€»è¾‘éªŒè¯
        assert self.[page_name]_page.get_current_url().endswith("[expected_path]"), "é¡µé¢è·³è½¬é”™è¯¯"
        
        logger.info(f"{self.test_id} æµ‹è¯•é€šè¿‡")
    
    @pytest.mark.parametrize("test_data", [
        {"field1": "value1", "field2": "value2", "expected": "result1"},
        {"field1": "value3", "field2": "value4", "expected": "result2"},
    ])
    def test_[test_case_name]_with_data(self, test_data):
        """æ•°æ®é©±åŠ¨æµ‹è¯• - åŒ…å«æˆªå›¾å’Œæ£€æŸ¥ç‚¹"""
        self.test_id = f"TC_[case_id]_data_{test_data['field1']}"
        logger.info(f"å¼€å§‹æ•°æ®é©±åŠ¨æµ‹è¯•: {self.test_id}")
        
        # æ“ä½œå‰æˆªå›¾
        self.[page_name]_page.screenshot(f"{self.test_id}_before")
        
        # æ‰§è¡Œæ“ä½œ
        # ... æµ‹è¯•é€»è¾‘ ...
        
        # æ“ä½œåæˆªå›¾
        self.[page_name]_page.screenshot(f"{self.test_id}_after")
        
        # å¤šå±‚æ¬¡æ£€æŸ¥ç‚¹
        assert condition1, "æ£€æŸ¥ç‚¹1å¤±è´¥"
        assert condition2, "æ£€æŸ¥ç‚¹2å¤±è´¥"
        assert condition3, "æ£€æŸ¥ç‚¹3å¤±è´¥"
        
        logger.info(f"{self.test_id} æ•°æ®é©±åŠ¨æµ‹è¯•é€šè¿‡")
```

### 3. æµ‹è¯•æ•°æ®ç”Ÿæˆ
åŸºäº @test_data/login_data.json æ ¼å¼ï¼š

```json
{
  "[test_case_group]": [
    {
      "test_case": "[test_name]",
      "description": "[æµ‹è¯•æè¿°]",
      "data": {
        "field1": "valid_value1",
        "field2": "valid_value2"
      },
      "expected_result": "success"
    }
  ],
  "boundary_data": [
    {
      "test_case": "boundary_test",
      "data": {
        "field1": "",
        "field2": "max_length_string"
      },
      "expected_result": "validation_error"
    }
  ],
  "invalid_data": [
    {
      "test_case": "invalid_input",
      "data": {
        "field1": "invalid_format",
        "field2": null
      },
      "expected_result": "error"
    }
  ]
}
```

## ç”Ÿæˆæµç¨‹

### 1. åˆ†ææµ‹è¯•è®¡åˆ’
ä» @doc/test-case.md æå–ï¼š
- é¡µé¢åŸºæœ¬ä¿¡æ¯
- å…ƒç´ å®šä½å™¨åˆ—è¡¨
- æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
- æµ‹è¯•æ•°æ®ç»“æ„

### 2. ç”Ÿæˆé¡µé¢å¯¹è±¡
- è§£æé¡µé¢å…ƒç´ æ˜ å°„è¡¨
- ç”Ÿæˆå…ƒç´ å®šä½å™¨å¸¸é‡
- å®ç°åŸºç¡€é¡µé¢æ“ä½œæ–¹æ³•
- æ·»åŠ ä¸šåŠ¡é€»è¾‘å°è£…

### 3. ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹
- ä¸ºæ¯ä¸ªæµ‹è¯•åœºæ™¯åˆ›å»ºæµ‹è¯•æ–¹æ³•
- æ·»åŠ é€‚å½“çš„pytestæ ‡è®°
- å®ç°æ–­è¨€å’ŒéªŒè¯é€»è¾‘
- é›†æˆæ•°æ®é©±åŠ¨æµ‹è¯•
- **æ·»åŠ å…³é”®æ­¥éª¤æˆªå›¾**ï¼šåœ¨æ¯ä¸ªå…³é”®æ“ä½œå‰åè°ƒç”¨æˆªå›¾æ–¹æ³•
- **å®ç°ä¸¥æ ¼æ£€æŸ¥ç‚¹**ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è‡³å°‘åŒ…å«3-4ä¸ªéªŒè¯ç‚¹ï¼ˆUIå…ƒç´ ã€æ•°æ®ã€ä¸šåŠ¡é€»è¾‘ï¼‰
- **ä¼˜åŒ–ç™»å½•çŠ¶æ€**ï¼šä½¿ç”¨sessionçº§åˆ«çš„fixtureå…±äº«ç™»å½•çŠ¶æ€

### 4. ç”Ÿæˆæµ‹è¯•æ•°æ®
- åˆ›å»ºæœ‰æ•ˆæ•°æ®é›†
- åˆ›å»ºè¾¹ç•Œæ•°æ®é›†
- åˆ›å»ºå¼‚å¸¸æ•°æ®é›†
- æŒ‰æµ‹è¯•ç”¨ä¾‹åˆ†ç»„

### 5. æ›´æ–°é…ç½®æ–‡ä»¶
æ›´æ–° @config/test_config.yamlï¼š
```yaml
# æ–°å¢é¡µé¢é…ç½®
pages:
  [page_name]:
    url: "/[page_path]"
    timeout: 30000
    elements:
      load_indicator: "[selector]"

# æ–°å¢æµ‹è¯•æ•°æ®é…ç½®  
test_data:
  [page_name]:
    data_file: "[page_name]_data.json"
    test_cases:
      - "[test_case1]"
      - "[test_case2]"
```

## æ–‡ä»¶ç»„ç»‡è§„èŒƒ

### é¡µé¢å¯¹è±¡æ–‡ä»¶
- æ–‡ä»¶åï¼š`pages/[page_name]_page.py`
- ç±»åï¼š`[PageName]Page`
- ç»§æ‰¿ï¼š`BasePage`

### æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶
- æ–‡ä»¶åï¼š`tests/test_[page_name].py`
- ç±»åï¼š`Test[PageName]`
- æ–¹æ³•å‘½åï¼š`test_[ä¼˜å…ˆçº§]_[åŠŸèƒ½]_[åœºæ™¯]`
- ä¼˜å…ˆçº§å‰ç¼€ï¼š`p0_`ã€`p1_`ã€`p2_`
- ç¤ºä¾‹ï¼š`test_p0_login_success`ã€`test_p1_password_mismatch`ã€`test_p2_empty_fields_validation`

### æµ‹è¯•ç”¨ä¾‹ä¼˜å…ˆçº§å‘½åè§„èŒƒ â­
| ä¼˜å…ˆçº§ | å‰ç¼€ | è¯´æ˜ | ç¤ºä¾‹ |
|---|---|---|---|
| P0 | `test_p0_` | æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ï¼ˆå†’çƒŸæµ‹è¯•å¿…é€‰ï¼‰ | `test_p0_change_password_page_load` |
| P1 | `test_p1_` | é‡è¦åŠŸèƒ½æµ‹è¯•ï¼ˆå›å½’æµ‹è¯•å¿…é€‰ï¼‰ | `test_p1_password_length_boundary` |
| P2 | `test_p2_` | ä¸€èˆ¬åŠŸèƒ½æµ‹è¯•ï¼ˆå®Œæ•´æµ‹è¯•æ—¶æ‰§è¡Œï¼‰ | `test_p2_password_field_masking` |

**ä¼˜å…ˆçº§è§„åˆ™è¯´æ˜**ï¼š
- **P0ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰**ï¼šé¡µé¢åŠ è½½ã€æ ¸å¿ƒä¸šåŠ¡æµç¨‹ã€ç”¨æˆ·èº«ä»½éªŒè¯ç­‰
- **P1ï¼ˆé‡è¦åŠŸèƒ½ï¼‰**ï¼šè¡¨å•éªŒè¯ã€è¾¹ç•Œå€¼æµ‹è¯•ã€ä¸šåŠ¡è§„åˆ™éªŒè¯ç­‰
- **P2ï¼ˆä¸€èˆ¬åŠŸèƒ½ï¼‰**ï¼šUIæ ·å¼éªŒè¯ã€æ¬¡è¦åŠŸèƒ½ã€å®‰å…¨æ€§æµ‹è¯•ç­‰

**å‘½åç¤ºä¾‹**ï¼š
```python
# P0 - æ ¸å¿ƒåŠŸèƒ½
def test_p0_change_password_page_load(self):
    """TC-PWD-001: ä¿®æ”¹å¯†ç é¡µé¢åŠ è½½éªŒè¯æµ‹è¯•"""

# P1 - é‡è¦åŠŸèƒ½
def test_p1_password_mismatch(self):
    """TC-PWD-002: å¯†ç ä¸åŒ¹é…éªŒè¯æµ‹è¯•"""

# P2 - ä¸€èˆ¬åŠŸèƒ½
def test_p2_empty_fields_validation(self):
    """TC-PWD-005: ç©ºå­—æ®µéªŒè¯æµ‹è¯•"""
```

### æµ‹è¯•æ•°æ®æ–‡ä»¶
- æ–‡ä»¶åï¼š`test_data/[page_name]_data.json`
- æ ¼å¼ï¼šJSON
- ç»“æ„ï¼šæŒ‰æµ‹è¯•ç±»å‹åˆ†ç»„

### è¾…åŠ©æ–‡ä»¶
- å¦‚éœ€è¦ï¼Œç”Ÿæˆé¡µé¢ä¸“ç”¨çš„å·¥å…·ç±»
- æ›´æ–° @conftest.py ä¸­çš„fixture
- æ·»åŠ é¡µé¢ä¸“ç”¨çš„é…ç½®

## è´¨é‡ä¿è¯

### 1. ä»£ç è§„èŒƒ
- éµå¾ªPEP 8ç¼–ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æç¤º
- æ·»åŠ å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²
- åˆç†çš„å¼‚å¸¸å¤„ç†

### 2. æµ‹è¯•è¦†ç›–
- ç¡®ä¿æ‰€æœ‰å…³é”®è·¯å¾„è¦†ç›–
- åŒ…å«æ­£å‘å’Œè´Ÿå‘æµ‹è¯•
- æ·»åŠ è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- è€ƒè™‘å¹¶å‘å’Œæ€§èƒ½æµ‹è¯•

### 3. å¯ç»´æŠ¤æ€§
- æ¸…æ™°çš„å‘½åçº¦å®š
- åˆç†çš„ä»£ç æ³¨é‡Š
- æ¨¡å—åŒ–è®¾è®¡
- æ˜“äºæ‰©å±•å’Œä¿®æ”¹

### 4. æˆªå›¾å’Œæ£€æŸ¥ç‚¹å¼ºåˆ¶è¦æ±‚ â­
#### 4.1 æˆªå›¾æœºåˆ¶
- **å¼ºåˆ¶è¦æ±‚**ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„å…³é”®æ­¥éª¤å‰åå¿…é¡»è¿›è¡Œæˆªå›¾
- **æˆªå›¾å‘½åè§„èŒƒ**ï¼š`{test_case_id}_step{N}_{before|after}_{action_name}`
- **æˆªå›¾æ—¶æœº**ï¼š
  - é¡µé¢å¯¼èˆªå‰å
  - è¡¨å•å¡«å†™å‰å
  - æŒ‰é’®ç‚¹å‡»å‰å
  - æ•°æ®éªŒè¯å‰å
- **å®ç°æ–¹å¼**ï¼š
  ```python
  # åœ¨å…³é”®æ­¥éª¤å‰åè°ƒç”¨
  self.[page_name]_page.screenshot(f"{test_id}_before_action")
  # æ‰§è¡Œæ“ä½œ
  self.[page_name]_page.screenshot(f"{test_id}_after_action")
  ```

#### 4.2 ä¸¥æ ¼æ£€æŸ¥ç‚¹æœºåˆ¶
- **å¼ºåˆ¶è¦æ±‚**ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è‡³å°‘åŒ…å«3-4ä¸ªæ£€æŸ¥ç‚¹
- **æ£€æŸ¥ç‚¹å±‚æ¬¡**ï¼š
  1. **UIå…ƒç´ æ£€æŸ¥**ï¼šå…ƒç´ å­˜åœ¨æ€§ã€å¯è§æ€§ã€çŠ¶æ€
  2. **æ•°æ®éªŒè¯æ£€æŸ¥**ï¼šè¾“å…¥/è¾“å‡ºæ•°æ®ä¸€è‡´æ€§
  3. **ä¸šåŠ¡é€»è¾‘æ£€æŸ¥**ï¼šä¸šåŠ¡è§„åˆ™ã€é¡µé¢è·³è½¬ã€æç¤ºä¿¡æ¯
  4. **çŠ¶æ€æ£€æŸ¥**ï¼šæŒ‰é’®çŠ¶æ€ã€è¡¨å•çŠ¶æ€ã€é¡µé¢çŠ¶æ€
- **å®ç°æ–¹å¼**ï¼š
  ```python
  # å¤šå±‚æ¬¡æ£€æŸ¥ç‚¹
  assert self.is_element_visible(element), "UIå…ƒç´ æ£€æŸ¥å¤±è´¥"
  assert actual_value == expected_value, "æ•°æ®éªŒè¯å¤±è´¥"
  assert current_url.endswith(expected_path), "ä¸šåŠ¡é€»è¾‘æ£€æŸ¥å¤±è´¥"
  assert self.is_element_enabled(button), "çŠ¶æ€æ£€æŸ¥å¤±è´¥"
  ```

#### 4.3 ç™»å½•çŠ¶æ€å…±äº«ç­–ç•¥ â­
- **ä¼˜å…ˆåŸåˆ™**ï¼šé»˜è®¤ä½¿ç”¨sessionçº§åˆ«çš„ç™»å½•çŠ¶æ€
- **å®ç°æ–¹å¼**ï¼š
  ```python
  @pytest.fixture(scope="session")
  def logged_in_session(self, page: Page):
      """ä¼šè¯çº§åˆ«çš„ç™»å½•fixture - ä»…ç™»å½•ä¸€æ¬¡"""
      login_page = LoginPage(page)
      login_page.login(username, password)
      yield page
  ```
- **é€‚ç”¨åœºæ™¯**ï¼š
  - éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®çš„åŠŸèƒ½æµ‹è¯•
  - è¿ç»­æ‰§è¡Œçš„æµ‹è¯•å¥—ä»¶
  - å›å½’æµ‹è¯•åœºæ™¯
- **ç‰¹æ®Šå¤„ç†**ï¼š
  - éœ€è¦ä¸åŒç”¨æˆ·çš„æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨å‚æ•°åŒ–
  - ä¸ä¾èµ–ç™»å½•çš„æµ‹è¯•ç‹¬ç«‹æ‰§è¡Œ
  - ç™»å½•çŠ¶æ€å¤±æ•ˆæ—¶çš„é‡æ–°ç™»å½•æœºåˆ¶

## é›†æˆæŒ‡å—

### 1. æ¡†æ¶é›†æˆ
- åˆ©ç”¨ç°æœ‰çš„ @utils/ å·¥å…·ç±»
- éµå¾ª @conftest.py ä¸­çš„é…ç½®
- ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—å’ŒæŠ¥å‘Šç³»ç»Ÿ

### 2. æ‰§è¡ŒéªŒè¯
ç”Ÿæˆä»£ç åæ‰§è¡Œä»¥ä¸‹éªŒè¯ï¼š
```bash
# è¯­æ³•æ£€æŸ¥
python -m py_compile pages/[page_name]_page.py
python -m py_compile tests/test_[page_name].py

# è¿è¡Œæµ‹è¯•
python run_tests.py --tests tests/test_[page_name].py --verbose

# ç”ŸæˆæŠ¥å‘Š
python run_tests.py --tests tests/test_[page_name].py --html-report
```

### 3. æ–‡æ¡£æ›´æ–°
- æ›´æ–° @README.md ä¸­çš„ä½¿ç”¨è¯´æ˜
- åœ¨ @ä½¿ç”¨æŒ‡å—.md ä¸­æ·»åŠ æ–°é¡µé¢çš„ä½¿ç”¨æ–¹æ³•
- æ›´æ–°é¡¹ç›®æ–‡æ¡£ä¸­çš„æµ‹è¯•è¦†ç›–æƒ…å†µ

## è¾“å‡ºè¦æ±‚
1. ç”Ÿæˆå®Œæ•´çš„é¡µé¢å¯¹è±¡æ–‡ä»¶
2. ç”Ÿæˆå¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼ˆåŒ…å«æˆªå›¾å’Œæ£€æŸ¥ç‚¹ï¼‰
3. ç”Ÿæˆæµ‹è¯•æ•°æ®æ–‡ä»¶
4. æ›´æ–°ç›¸å…³é…ç½®æ–‡ä»¶
5. æä¾›æ‰§è¡Œå’ŒéªŒè¯å»ºè®®
6. ç”Ÿæˆä»£ç ä½¿ç”¨è¯´æ˜

## ä»£ç ç”Ÿæˆæ£€æŸ¥æ¸…å• âœ…

åœ¨ç”Ÿæˆä»£ç åï¼Œç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š

### æˆªå›¾æœºåˆ¶æ£€æŸ¥
- [ ] æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½åŒ…å«å…³é”®æ­¥éª¤æˆªå›¾
- [ ] æˆªå›¾å‘½åç¬¦åˆè§„èŒƒï¼š`{test_id}_step{N}_{before|after}_{action}`
- [ ] æˆªå›¾è°ƒç”¨åœ¨æ“ä½œå‰åæ­£ç¡®æ”¾ç½®
- [ ] æˆªå›¾æ–¹æ³•æ­£ç¡®ç»§æ‰¿è‡ªBasePage

### æ£€æŸ¥ç‚¹æœºåˆ¶æ£€æŸ¥
- [ ] æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹è‡³å°‘åŒ…å«3-4ä¸ªæ£€æŸ¥ç‚¹
- [ ] æ£€æŸ¥ç‚¹è¦†ç›–UIå…ƒç´ ã€æ•°æ®ã€ä¸šåŠ¡é€»è¾‘ã€çŠ¶æ€
- [ ] æ–­è¨€ä¿¡æ¯æ¸…æ™°æ˜ç¡®
- [ ] æ£€æŸ¥ç‚¹åœ¨å…³é”®æ­¥éª¤åç«‹å³æ‰§è¡Œ

### ç™»å½•çŠ¶æ€å…±äº«æ£€æŸ¥
- [ ] ä½¿ç”¨sessionçº§åˆ«çš„ç™»å½•fixture
- [ ] æµ‹è¯•ç”¨ä¾‹æ­£ç¡®å¼•ç”¨logged_in_session
- [ ] ä¸éœ€è¦ç™»å½•çš„æµ‹è¯•ç”¨ä¾‹ç‹¬ç«‹å£°æ˜
- [ ] ç™»å½•å¤±æ•ˆå¤„ç†æœºåˆ¶å®Œå–„

### ä»£ç è´¨é‡æ£€æŸ¥
- [ ] ç¬¦åˆPEP 8è§„èŒƒ
- [ ] åŒ…å«å®Œæ•´çš„æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- [ ] å¼‚å¸¸å¤„ç†å®Œå–„
- [ ] æ—¥å¿—è®°å½•å®Œæ•´

### ä¼˜å…ˆçº§å‘½åæ£€æŸ¥ â­
- [ ] æµ‹è¯•æ–¹æ³•ååŒ…å«ä¼˜å…ˆçº§å‰ç¼€ï¼ˆ`test_p0_`ã€`test_p1_`ã€`test_p2_`ï¼‰
- [ ] ä¼˜å…ˆçº§ä¸ `@pytest.mark.P0/P1/P2` è£…é¥°å™¨ä¸€è‡´
- [ ] P0æµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½ï¼ˆé¡µé¢åŠ è½½ã€ä¸»æµç¨‹ï¼‰
- [ ] P1æµ‹è¯•è¦†ç›–é‡è¦åŠŸèƒ½ï¼ˆéªŒè¯ã€è¾¹ç•Œå€¼ï¼‰
- [ ] P2æµ‹è¯•è¦†ç›–ä¸€èˆ¬åŠŸèƒ½ï¼ˆUIç»†èŠ‚ã€å®‰å…¨æ€§ï¼‰

### æµ‹è¯•æ—¥å¿—è§„èŒƒæ£€æŸ¥ â­
- [ ] æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£åŒ…å«åŒºåŸŸã€å…ƒç´ ã€ä½ç½®è¯´æ˜
- [ ] æ—¥å¿—è¾“å‡ºä½¿ç”¨ç»“æ„åŒ–æ ¼å¼
- [ ] æ­¥éª¤ç¼–å·æ¸…æ™°ï¼ˆæ­¥éª¤1ã€æ­¥éª¤2...ï¼‰
- [ ] åŒºåŸŸæ ‡æ³¨å‡†ç¡®ï¼ˆ[HeaderåŒºåŸŸ]ã€[HeroåŒºåŸŸ]ç­‰ï¼‰
- [ ] å…ƒç´ æè¿°å®Œæ•´ï¼ˆæŒ‰é’®æ–‡å­—ã€é“¾æ¥æ–‡å­—ã€ä½ç½®ï¼‰
- [ ] æ“ä½œç»“æœä½¿ç”¨ç¬¦å·æ ‡è®°ï¼ˆâœ“ã€âš ï¸ã€âŒã€ğŸ“¸ï¼‰

## æµ‹è¯•æ—¥å¿—è§„èŒƒ ğŸ¯

### 1. æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£ç»“æ„

æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å¿…é¡»åŒ…å«ä»¥ä¸‹ç»“æ„åŒ–æ–‡æ¡£ï¼š

```python
def test_example(self):
    """
    TC-XXX-001: æµ‹è¯•ç”¨ä¾‹åç§°
    
    æµ‹è¯•ç›®æ ‡ï¼šæ˜ç¡®è¯´æ˜æµ‹è¯•ä»€ä¹ˆåŠŸèƒ½æˆ–è¡Œä¸º
    æµ‹è¯•åŒºåŸŸï¼šHeader/Hero/Footer/Content/Sidebar/Modalç­‰é¡µé¢åŒºåŸŸ
    æµ‹è¯•å…ƒç´ ï¼šå…·ä½“æŒ‰é’®/é“¾æ¥/è¾“å…¥æ¡†çš„æ–‡å­—ã€ç±»å‹ã€é¢œè‰²ç­‰ç‰¹å¾
    æµ‹è¯•æ­¥éª¤ï¼š
    1. [åŒºåŸŸ - å…·ä½“ä½ç½®] æ“ä½œæè¿°ï¼ˆå…ƒç´ ç‰¹å¾ï¼‰
    2. [åŒºåŸŸ - å…·ä½“ä½ç½®] æ“ä½œæè¿°ï¼ˆå…ƒç´ ç‰¹å¾ï¼‰
    3. éªŒè¯æ“ä½œç»“æœ
    
    é¢„æœŸç»“æœï¼šæ˜ç¡®çš„é¢„æœŸè¡Œä¸º
    """
```

### 2. æ—¥å¿—è¾“å‡ºæ ¼å¼è§„èŒƒ

#### 2.1 æµ‹è¯•å¼€å§‹æ ‡è®°
```python
logger.info("=" * 60)
logger.info("å¼€å§‹æ‰§è¡ŒTC-XXX-001: æµ‹è¯•ç”¨ä¾‹åç§°")
logger.info("=" * 60)
```

#### 2.2 åŒºåŸŸå’Œä½ç½®æ ‡æ³¨
**å¿…é¡»æ ¼å¼**ï¼š`[åŒºåŸŸåç§° - å…·ä½“ä½ç½®]`

**åŒºåŸŸåˆ†ç±»**ï¼š
- `[HeaderåŒºåŸŸ]` - é¡µé¢é¡¶éƒ¨å¯¼èˆªæ 
- `[HeroåŒºåŸŸ]` - é¡µé¢ä¸»è§†è§‰åŒºåŸŸ
- `[ContentåŒºåŸŸ]` - é¡µé¢ä¸»è¦å†…å®¹åŒº
- `[SidebaråŒºåŸŸ]` - ä¾§è¾¹æ 
- `[FooteråŒºåŸŸ]` - é¡µé¢åº•éƒ¨
- `[ModalåŒºåŸŸ]` - å¼¹çª—/å¯¹è¯æ¡†
- `[FormåŒºåŸŸ]` - è¡¨å•åŒºåŸŸ
- `[TableåŒºåŸŸ]` - è¡¨æ ¼åŒºåŸŸ

**ä½ç½®è¯´æ˜**ï¼š
- å·¦ä¸Šè§’ã€å³ä¸Šè§’ã€å·¦ä¸‹è§’ã€å³ä¸‹è§’
- é¡¶éƒ¨ã€åº•éƒ¨ã€å·¦ä¾§ã€å³ä¾§ã€ä¸­é—´
- ç¬¬1ä¸ªã€ç¬¬2ä¸ªã€æœ€åä¸€ä¸ª
- XXå…ƒç´ çš„å·¦ä¾§/å³ä¾§/ä¸Šæ–¹/ä¸‹æ–¹

#### 2.3 æ­¥éª¤æ ‡è®°æ ¼å¼
```python
logger.info("æ­¥éª¤1: [åŒºåŸŸåç§° - å…·ä½“ä½ç½®] æ“ä½œæè¿°ï¼ˆå…ƒç´ ç‰¹å¾ï¼‰")
logger.info("   âœ“ æ“ä½œæˆåŠŸçš„ç»“æœæè¿°")
logger.info("   âš ï¸ è­¦å‘Šä¿¡æ¯")
logger.info("   âŒ é”™è¯¯ä¿¡æ¯")
logger.info("   å®é™…ç»“æœ: {actual_value}")
```

#### 2.4 å…ƒç´ æè¿°è§„èŒƒ
å…ƒç´ æè¿°å¿…é¡»åŒ…å«ï¼š
1. **å…ƒç´ ç±»å‹**ï¼šæŒ‰é’®/é“¾æ¥/è¾“å…¥æ¡†/ä¸‹æ‹‰æ¡†/å¤é€‰æ¡†/æ ‡ç­¾/å›¾ç‰‡ç­‰
2. **å…ƒç´ æ–‡å­—**ï¼šæŒ‰é’®ä¸Šçš„æ–‡å­—æˆ–è¾“å…¥æ¡†çš„placeholder
3. **å…ƒç´ ç‰¹å¾**ï¼šé¢œè‰²ï¼ˆè“è‰²ä¸»æŒ‰é’®/ç™½è‰²è¾¹æ¡†æŒ‰é’®ï¼‰ã€å¤§å°ã€å›¾æ ‡ç­‰
4. **å…ƒç´ ä½ç½®**ï¼šç›¸å¯¹äºå…¶ä»–å…ƒç´ çš„ä½ç½®å…³ç³»

**æ­£ç¡®ç¤ºä¾‹**ï¼š
```python
logger.info("æ­¥éª¤1: [HeaderåŒºåŸŸ - å·¦ä¸Šè§’] å®šä½Logoé“¾æ¥ï¼ˆæ–‡æœ¬ï¼š'Aevatar AI'ï¼‰")
logger.info("æ­¥éª¤2: [HeroåŒºåŸŸ - ä¸»æ ‡é¢˜ä¸‹æ–¹] ç‚¹å‡»'Create Workflow'æŒ‰é’®ï¼ˆè“è‰²ä¸»æŒ‰é’®ï¼‰")
logger.info("æ­¥éª¤3: [FormåŒºåŸŸ - ç¬¬1è¡Œ] è¾“å…¥ç”¨æˆ·ååˆ°'Username'è¾“å…¥æ¡†ï¼ˆplaceholderï¼š'Enter username'ï¼‰")
logger.info("æ­¥éª¤4: [ModalåŒºåŸŸ - åº•éƒ¨] ç‚¹å‡»'ç¡®è®¤'æŒ‰é’®ï¼ˆå³ä¾§çº¢è‰²æŒ‰é’®ï¼‰")
```

**é”™è¯¯ç¤ºä¾‹**ï¼š
```python
# âŒ ç¼ºå°‘åŒºåŸŸæ ‡æ³¨
logger.info("æ­¥éª¤1: ç‚¹å‡»æŒ‰é’®")

# âŒ ç¼ºå°‘å…ƒç´ æè¿°
logger.info("æ­¥éª¤2: [HeaderåŒºåŸŸ] ç‚¹å‡»é“¾æ¥")

# âŒ ç¼ºå°‘ä½ç½®è¯´æ˜
logger.info("æ­¥éª¤3: ç‚¹å‡»Create WorkflowæŒ‰é’®")
```

#### 2.5 æˆªå›¾æ ‡è®°
```python
logger.info("ğŸ“¸ æˆªå›¾ï¼šåŒºåŸŸåç§°åˆå§‹çŠ¶æ€")
logger.info("ğŸ“¸ æˆªå›¾ï¼šæ“ä½œåçš„é¡µé¢çŠ¶æ€")
logger.info("ğŸ“¸ æˆªå›¾ï¼šé”™è¯¯æç¤ºä¿¡æ¯")
```

#### 2.6 æ“ä½œç»“æœæ ‡è®°
ä½¿ç”¨ç¼©è¿›ï¼ˆ2-3ä¸ªç©ºæ ¼ï¼‰å’Œç¬¦å·æ ‡è®°æ“ä½œç»“æœï¼š

```python
logger.info("   âœ“ æˆåŠŸï¼šæ“ä½œæˆåŠŸå®Œæˆçš„æè¿°")
logger.info("   âš ï¸ è­¦å‘Šï¼šéœ€è¦æ³¨æ„çš„æƒ…å†µ")
logger.info("   âŒ å¤±è´¥ï¼šæ“ä½œå¤±è´¥çš„åŸå› ")
logger.info("   å½“å‰URL: {current_url}")
logger.info("   å®é™…å€¼: {actual_value}, æœŸæœ›å€¼: {expected_value}")
```

#### 2.7 æµ‹è¯•ç»“æŸæ ‡è®°
```python
logger.info("âœ… TC-XXX-001æ‰§è¡ŒæˆåŠŸ - ç®€çŸ­çš„æˆåŠŸæ€»ç»“")
logger.info("âŒ TC-XXX-001æ‰§è¡Œå¤±è´¥ - å¤±è´¥åŸå› ")
```

#### 2.8 æµ‹è¯•æ–¹æ³•å‘½åè§„èŒƒï¼ˆä¼˜å…ˆçº§å‰ç¼€ï¼‰â­
```python
# P0 - æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ï¼ˆå¿…é¡»åœ¨æ–¹æ³•åä¸­åŒ…å« p0_ å‰ç¼€ï¼‰
@pytest.mark.P0
def test_p0_page_load(self):
    """TC-XXX-001: é¡µé¢åŠ è½½æµ‹è¯•"""

# P1 - é‡è¦åŠŸèƒ½æµ‹è¯•ï¼ˆå¿…é¡»åœ¨æ–¹æ³•åä¸­åŒ…å« p1_ å‰ç¼€ï¼‰
@pytest.mark.P1
def test_p1_form_validation(self):
    """TC-XXX-002: è¡¨å•éªŒè¯æµ‹è¯•"""

# P2 - ä¸€èˆ¬åŠŸèƒ½æµ‹è¯•ï¼ˆå¿…é¡»åœ¨æ–¹æ³•åä¸­åŒ…å« p2_ å‰ç¼€ï¼‰
@pytest.mark.P2
def test_p2_ui_styling(self):
    """TC-XXX-003: UIæ ·å¼æµ‹è¯•"""
```

**ä¼˜å…ˆçº§è¯´æ˜**ï¼š
| ä¼˜å…ˆçº§ | å‰ç¼€ | ä½¿ç”¨åœºæ™¯ |
|-----|---|----|
| P0 | `test_p0_` | æ ¸å¿ƒåŠŸèƒ½ï¼šé¡µé¢åŠ è½½ã€ä¸»æµç¨‹éªŒè¯ã€èº«ä»½è®¤è¯ |
| P1 | `test_p1_` | é‡è¦åŠŸèƒ½ï¼šè¾“å…¥éªŒè¯ã€è¾¹ç•Œå€¼ã€é”™è¯¯å¤„ç† |
| P2 | `test_p2_` | ä¸€èˆ¬åŠŸèƒ½ï¼šUIç»†èŠ‚ã€æ ·å¼éªŒè¯ã€è¾…åŠ©åŠŸèƒ½ |

### 3. å®Œæ•´çš„æ—¥å¿—è¾“å‡ºæ¨¡æ¿

```python
@pytest.mark.P0
@pytest.mark.functional
def test_p0_example_feature(self, page_object):
    """
    TC-EX-001: ç¤ºä¾‹åŠŸèƒ½æµ‹è¯•ï¼ˆP0çº§åˆ«ï¼‰
    
    æµ‹è¯•ç›®æ ‡ï¼šéªŒè¯ç”¨æˆ·èƒ½å¦æˆåŠŸæäº¤è¡¨å•
    æµ‹è¯•åŒºåŸŸï¼šFormåŒºåŸŸï¼ˆé¡µé¢ä¸­éƒ¨ï¼‰
    æµ‹è¯•å…ƒç´ ï¼š
    - è¾“å…¥æ¡† "Username"ï¼ˆplaceholder: "Enter your name"ï¼‰
    - è¾“å…¥æ¡† "Email"ï¼ˆplaceholder: "your@email.com"ï¼‰
    - æŒ‰é’® "Submit"ï¼ˆè“è‰²ä¸»æŒ‰é’®ï¼Œè¡¨å•åº•éƒ¨ï¼‰
    æµ‹è¯•æ­¥éª¤ï¼š
    1. [FormåŒºåŸŸ - ç¬¬1è¡Œ] è¾“å…¥ç”¨æˆ·ååˆ°"Username"è¾“å…¥æ¡†
    2. [FormåŒºåŸŸ - ç¬¬2è¡Œ] è¾“å…¥é‚®ç®±åˆ°"Email"è¾“å…¥æ¡†
    3. [FormåŒºåŸŸ - åº•éƒ¨] ç‚¹å‡»"Submit"æŒ‰é’®ï¼ˆè“è‰²ä¸»æŒ‰é’®ï¼‰
    4. éªŒè¯æäº¤æˆåŠŸæç¤ºä¿¡æ¯æ˜¾ç¤º
    """
    logger.info("=" * 60)
    logger.info("å¼€å§‹æ‰§è¡ŒTC-EX-001: ç¤ºä¾‹åŠŸèƒ½æµ‹è¯•")
    logger.info("=" * 60)
    
    # æ­¥éª¤1ï¼šè¾“å…¥ç”¨æˆ·å
    logger.info("æ­¥éª¤1: [FormåŒºåŸŸ - ç¬¬1è¡Œ] å®šä½'Username'è¾“å…¥æ¡†ï¼ˆplaceholder: 'Enter your name'ï¼‰")
    logger.info("ğŸ“¸ æˆªå›¾ï¼šè¡¨å•åˆå§‹çŠ¶æ€")
    page_object.take_screenshot("tc_ex_001_step1_before")
    
    logger.info("   è¾“å…¥ç”¨æˆ·å: 'TestUser'")
    page_object.fill_username("TestUser")
    logger.info("   âœ“ ç”¨æˆ·åè¾“å…¥æˆåŠŸ")
    
    logger.info("ğŸ“¸ æˆªå›¾ï¼šç”¨æˆ·åè¾“å…¥å")
    page_object.take_screenshot("tc_ex_001_step1_after")
    
    # æ­¥éª¤2ï¼šè¾“å…¥é‚®ç®±
    logger.info("æ­¥éª¤2: [FormåŒºåŸŸ - ç¬¬2è¡Œ] å®šä½'Email'è¾“å…¥æ¡†ï¼ˆplaceholder: 'your@email.com'ï¼‰")
    logger.info("   è¾“å…¥é‚®ç®±: 'test@example.com'")
    page_object.fill_email("test@example.com")
    logger.info("   âœ“ é‚®ç®±è¾“å…¥æˆåŠŸ")
    
    logger.info("ğŸ“¸ æˆªå›¾ï¼šæ‰€æœ‰å­—æ®µå¡«å†™å®Œæˆ")
    page_object.take_screenshot("tc_ex_001_step2_after")
    
    # æ­¥éª¤3ï¼šç‚¹å‡»æäº¤æŒ‰é’®
    logger.info("æ­¥éª¤3: [FormåŒºåŸŸ - åº•éƒ¨] å®šä½'Submit'æŒ‰é’®ï¼ˆè“è‰²ä¸»æŒ‰é’®ï¼‰")
    logger.info("   ç‚¹å‡»'Submit'æŒ‰é’®")
    page_object.click_submit()
    logger.info("   âœ“ å·²ç‚¹å‡»'Submit'æŒ‰é’®")
    
    # ç­‰å¾…æäº¤å®Œæˆ
    logger.info("   ç­‰å¾…æäº¤å¤„ç†...")
    page_object.wait_for_submission()
    logger.info("   âœ“ æäº¤å¤„ç†å®Œæˆ")
    
    logger.info("ğŸ“¸ æˆªå›¾ï¼šæäº¤åçš„é¡µé¢")
    page_object.take_screenshot("tc_ex_001_step3_after")
    
    # æ­¥éª¤4ï¼šéªŒè¯ç»“æœ
    logger.info("æ­¥éª¤4: éªŒè¯æäº¤æˆåŠŸ")
    
    # æ£€æŸ¥ç‚¹1ï¼šéªŒè¯æˆåŠŸæç¤º
    logger.info("   æ£€æŸ¥ç‚¹1: éªŒè¯æˆåŠŸæç¤ºä¿¡æ¯æ˜¾ç¤º")
    assert page_object.is_success_message_visible(), "æˆåŠŸæç¤ºä¿¡æ¯æœªæ˜¾ç¤º"
    success_message = page_object.get_success_message()
    logger.info(f"   âœ“ æˆåŠŸæç¤ºä¿¡æ¯: '{success_message}'")
    
    # æ£€æŸ¥ç‚¹2ï¼šéªŒè¯é¡µé¢è·³è½¬
    logger.info("   æ£€æŸ¥ç‚¹2: éªŒè¯é¡µé¢è·³è½¬")
    current_url = page_object.get_current_url()
    logger.info(f"   å½“å‰URL: {current_url}")
    assert "/success" in current_url, f"é¡µé¢æœªè·³è½¬åˆ°æˆåŠŸé¡µï¼Œå½“å‰URL: {current_url}"
    logger.info("   âœ“ é¡µé¢å·²è·³è½¬åˆ°æˆåŠŸé¡µ")
    
    # æ£€æŸ¥ç‚¹3ï¼šéªŒè¯æ•°æ®æäº¤
    logger.info("   æ£€æŸ¥ç‚¹3: éªŒè¯æäº¤çš„æ•°æ®")
    displayed_username = page_object.get_displayed_username()
    logger.info(f"   æ˜¾ç¤ºçš„ç”¨æˆ·å: {displayed_username}")
    assert displayed_username == "TestUser", f"ç”¨æˆ·åä¸åŒ¹é…: æœŸæœ›'TestUser', å®é™…'{displayed_username}'"
    logger.info("   âœ“ æ•°æ®éªŒè¯é€šè¿‡")
    
    logger.info("âœ… TC-EX-001æ‰§è¡ŒæˆåŠŸ - è¡¨å•æäº¤åŠŸèƒ½éªŒè¯é€šè¿‡")
```

### 4. ç‰¹æ®Šåœºæ™¯çš„æ—¥å¿—å¤„ç†

#### 4.1 æ–°æ ‡ç­¾é¡µ/çª—å£å¤„ç†
```python
logger.info("æ­¥éª¤2: ç›‘å¬æ–°æ ‡ç­¾é¡µæ‰“å¼€äº‹ä»¶")
logger.info("æ­¥éª¤3: [HeaderåŒºåŸŸ - å¯¼èˆªæ ] ç‚¹å‡»'GitHub'é“¾æ¥")
logger.info("   âœ“ å·²ç‚¹å‡»'GitHub'é“¾æ¥")

logger.info("æ­¥éª¤4: è·å–æ–°æ‰“å¼€çš„æ ‡ç­¾é¡µ")
logger.info("   âœ“ æ£€æµ‹åˆ°æ–°æ ‡ç­¾é¡µæ‰“å¼€")
logger.info("   ç­‰å¾…æ–°æ ‡ç­¾é¡µåŠ è½½...")
logger.info("   âœ“ æ–°æ ‡ç­¾é¡µåŠ è½½å®Œæˆ")
logger.info(f"   æ–°æ ‡ç­¾é¡µURL: {new_url}")

logger.info("ğŸ“¸ æˆªå›¾ï¼šæ–°æ ‡ç­¾é¡µå†…å®¹ï¼ˆå®Œæ•´é¡µé¢ï¼‰")
logger.info("   âœ“ æ–°æ ‡ç­¾é¡µæˆªå›¾å·²ä¿å­˜")
logger.info("   âœ“ å·²å…³é—­æ–°æ ‡ç­¾é¡µ")
```

#### 4.2 è¡¨å•éªŒè¯æµ‹è¯•
```python
logger.info("æ­¥éª¤1: [FormåŒºåŸŸ - ç¬¬1è¡Œ] æ•…æ„ç•™ç©º'Username'è¾“å…¥æ¡†ï¼ˆæµ‹è¯•å¿…å¡«éªŒè¯ï¼‰")
logger.info("æ­¥éª¤2: [FormåŒºåŸŸ - åº•éƒ¨] ç‚¹å‡»'Submit'æŒ‰é’®")
logger.info("   âœ“ å·²ç‚¹å‡»'Submit'æŒ‰é’®")

logger.info("æ­¥éª¤3: éªŒè¯HTML5è¡¨å•éªŒè¯")
logger.info("   æ£€æŸ¥ç‚¹1: éªŒè¯æµè§ˆå™¨åŸç”Ÿæç¤ºæ˜¾ç¤º")
logger.info(f"   éªŒè¯æ¶ˆæ¯: '{validation_message}'")
assert "required" in validation_message.lower() or "å¿…å¡«" in validation_message
logger.info("   âœ“ å¿…å¡«éªŒè¯ç”Ÿæ•ˆ")

logger.info("æ­¥éª¤4: éªŒè¯æäº¤æœªæˆåŠŸ")
current_url = page_object.get_current_url()
logger.info(f"   å½“å‰URL: {current_url}")
assert "/submit" not in current_url, "è¡¨å•ä¸åº”è¯¥æäº¤æˆåŠŸ"
logger.info("   âœ“ è¡¨å•é˜»æ­¢äº†æ— æ•ˆæäº¤")
```

#### 4.3 ç­‰å¾…å’ŒåŠ è½½å¤„ç†
```python
logger.info("æ­¥éª¤2: ç­‰å¾…é¡µé¢åŠ è½½")
logger.info("   ç­‰å¾…ä¸»å†…å®¹åŠ è½½ï¼ˆæœ€å¤š10ç§’ï¼‰...")
page_object.wait_for_load()
logger.info("   âœ“ é¡µé¢åŠ è½½å®Œæˆ")

logger.info("æ­¥éª¤3: ç­‰å¾…æ•°æ®åŠ è½½")
logger.info("   ç­‰å¾…è¡¨æ ¼æ•°æ®åŠ è½½...")
page_object.wait_for_data_loaded()
logger.info(f"   âœ“ æ•°æ®åŠ è½½å®Œæˆï¼Œå…± {count} æ¡è®°å½•")
```

### 5. æ—¥å¿—è§„èŒƒæ£€æŸ¥æ¸…å•

åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œç¡®ä¿ï¼š

#### æ–‡æ¡£è§„èŒƒ
- [ ] åŒ…å«æµ‹è¯•ç›®æ ‡è¯´æ˜
- [ ] æ ‡æ³¨æµ‹è¯•åŒºåŸŸï¼ˆHeader/Hero/Footerç­‰ï¼‰
- [ ] æè¿°æµ‹è¯•å…ƒç´ ï¼ˆç±»å‹ã€æ–‡å­—ã€ç‰¹å¾ï¼‰
- [ ] åˆ—å‡ºè¯¦ç»†æµ‹è¯•æ­¥éª¤
- [ ] è¯´æ˜é¢„æœŸç»“æœ

#### æ—¥å¿—æ ¼å¼
- [ ] ä½¿ç”¨åˆ†éš”çº¿æ ‡è®°æµ‹è¯•å¼€å§‹ `logger.info("=" * 60)`
- [ ] æ­¥éª¤ç¼–å·æ¸…æ™° `æ­¥éª¤1:`ã€`æ­¥éª¤2:`
- [ ] åŒºåŸŸæ ‡æ³¨å‡†ç¡® `[HeaderåŒºåŸŸ - å·¦ä¸Šè§’]`
- [ ] å…ƒç´ æè¿°å®Œæ•´ `'Create Workflow'æŒ‰é’®ï¼ˆè“è‰²ä¸»æŒ‰é’®ï¼‰`
- [ ] ä½ç½®è¯´æ˜æ˜ç¡® `Logoå³ä¾§ç¬¬1ä¸ª`ã€`ä¸»æ ‡é¢˜ä¸‹æ–¹`
- [ ] ä½¿ç”¨ç¬¦å·æ ‡è®°ç»“æœ `âœ“`ã€`âš ï¸`ã€`âŒ`ã€`ğŸ“¸`
- [ ] æ“ä½œç»“æœæœ‰ç¼©è¿›ï¼ˆ2-3ä¸ªç©ºæ ¼ï¼‰
- [ ] æµ‹è¯•ç»“æŸæœ‰æ€»ç»“ `âœ… TC-XXXæ‰§è¡ŒæˆåŠŸ - ...`

#### ä¿¡æ¯å®Œæ•´æ€§
- [ ] æ¯ä¸ªç‚¹å‡»æ“ä½œéƒ½è¯´æ˜ç‚¹å‡»çš„å…ƒç´ æ–‡å­—
- [ ] æ¯ä¸ªè¾“å…¥æ“ä½œéƒ½è¯´æ˜è¾“å…¥çš„å†…å®¹
- [ ] æ¯ä¸ªéªŒè¯éƒ½è¯´æ˜éªŒè¯çš„å†…å®¹å’Œç»“æœ
- [ ] URLå˜åŒ–éƒ½è®°å½•å®é™…URL
- [ ] ç­‰å¾…æ“ä½œéƒ½è¯´æ˜ç­‰å¾…åŸå› å’Œæ—¶é•¿
- [ ] æˆªå›¾æ“ä½œéƒ½è¯´æ˜æˆªå›¾å†…å®¹

### 6. å¸¸è§åŒºåŸŸå’Œå…ƒç´ è¯æ±‡è¡¨

#### é¡µé¢åŒºåŸŸ
| åŒºåŸŸåç§° | è‹±æ–‡ | è¯´æ˜ |
|---|---|---|
| HeaderåŒºåŸŸ | Header Section | é¡µé¢é¡¶éƒ¨å¯¼èˆªæ  |
| HeroåŒºåŸŸ | Hero Section | é¡µé¢ä¸»è§†è§‰åŒºåŸŸ |
| ContentåŒºåŸŸ | Content Section | é¡µé¢ä¸»è¦å†…å®¹åŒº |
| SidebaråŒºåŸŸ | Sidebar Section | ä¾§è¾¹æ  |
| FooteråŒºåŸŸ | Footer Section | é¡µé¢åº•éƒ¨ |
| ModalåŒºåŸŸ | Modal Section | å¼¹çª—/å¯¹è¯æ¡† |
| FormåŒºåŸŸ | Form Section | è¡¨å•åŒºåŸŸ |
| TableåŒºåŸŸ | Table Section | è¡¨æ ¼åŒºåŸŸ |
| CardåŒºåŸŸ | Card Section | å¡ç‰‡åŒºåŸŸ |
| TabåŒºåŸŸ | Tab Section | æ ‡ç­¾é¡µåŒºåŸŸ |

#### å…ƒç´ ç±»å‹
| å…ƒç´ ç±»å‹ | è‹±æ–‡ | ç¤ºä¾‹ |
|---|---|---|
| æŒ‰é’® | Button | "æäº¤"æŒ‰é’®ã€"å–æ¶ˆ"æŒ‰é’® |
| é“¾æ¥ | Link | "è¿”å›"é“¾æ¥ã€"æŸ¥çœ‹è¯¦æƒ…"é“¾æ¥ |
| è¾“å…¥æ¡† | Input | "ç”¨æˆ·å"è¾“å…¥æ¡†ã€"å¯†ç "è¾“å…¥æ¡† |
| ä¸‹æ‹‰æ¡† | Dropdown | "é€‰æ‹©åŸå¸‚"ä¸‹æ‹‰æ¡† |
| å¤é€‰æ¡† | Checkbox | "è®°ä½æˆ‘"å¤é€‰æ¡† |
| å•é€‰æ¡† | Radio | "æ€§åˆ«"å•é€‰æ¡† |
| æ–‡æœ¬ | Text | æ ‡é¢˜æ–‡æœ¬ã€æè¿°æ–‡æœ¬ |
| å›¾ç‰‡ | Image | Logoå›¾ç‰‡ã€äº§å“å›¾ç‰‡ |
| å›¾æ ‡ | Icon | èœå•å›¾æ ‡ã€æœç´¢å›¾æ ‡ |

#### æŒ‰é’®ç‰¹å¾
- ä¸»æŒ‰é’®ï¼šè“è‰²ä¸»æŒ‰é’®ã€ç»¿è‰²ä¸»æŒ‰é’®
- æ¬¡è¦æŒ‰é’®ï¼šç™½è‰²è¾¹æ¡†æŒ‰é’®ã€ç°è‰²æŒ‰é’®
- å±é™©æŒ‰é’®ï¼šçº¢è‰²æŒ‰é’®
- æ–‡å­—æŒ‰é’®ï¼šæ— è¾¹æ¡†æ–‡å­—æŒ‰é’®

#### ä½ç½®æè¿°
- **ç»å¯¹ä½ç½®**ï¼šå·¦ä¸Šè§’ã€å³ä¸Šè§’ã€å·¦ä¸‹è§’ã€å³ä¸‹è§’ã€æ­£ä¸­å¤®
- **ç›¸å¯¹ä½ç½®**ï¼šXXçš„å·¦ä¾§ã€XXçš„å³ä¾§ã€XXçš„ä¸Šæ–¹ã€XXçš„ä¸‹æ–¹
- **é¡ºåºä½ç½®**ï¼šç¬¬1ä¸ªã€ç¬¬2ä¸ªã€æœ€åä¸€ä¸ª
- **åŒºåŸŸä½ç½®**ï¼šé¡¶éƒ¨ã€åº•éƒ¨ã€å·¦ä¾§ã€å³ä¾§ã€ä¸­é—´

## å¸¸è§é™·é˜±ä¸æœ€ä½³å®è·µ ğŸš¨

### 1. æˆªå›¾æè¿°ä¸å®é™…ä¸ç¬¦é—®é¢˜ â­â­â­

#### 1.1 é—®é¢˜æè¿°
åœ¨è¾“å…¥éªŒè¯æµ‹è¯•ä¸­ï¼Œæˆªå›¾æè¿°æ˜¾ç¤ºçš„"å®é™…ç»“æœ"ä¸æˆªå›¾å†…å®¹ä¸ç¬¦ã€‚
ä¾‹å¦‚ï¼šæˆªå›¾ä¸­æ˜¾ç¤ºäº†é”™è¯¯æ¶ˆæ¯ï¼Œä½†æè¿°å´æ˜¯"å®é™…:æˆåŠŸ/æ— é”™è¯¯"ã€‚

#### 1.2 æ ¹æœ¬åŸå› 
æˆªå›¾æè¿°ä¸­çš„çŠ¶æ€å˜é‡ï¼ˆå¦‚ `is_saved`ã€`has_error`ï¼‰åœ¨é”™è¯¯çš„æ—¶é—´ç‚¹è·å–ï¼š
- `has_error` åœ¨ä¿å­˜åç«‹å³æ£€æµ‹ï¼ˆé¡µé¢å¯èƒ½è¿˜æœ‰é”™è¯¯ï¼‰
- `is_saved` åœ¨åˆ·æ–°åæ£€æµ‹ï¼ˆé¡µé¢å·²æ¢å¤å¹²å‡€çŠ¶æ€ï¼‰
- æˆªå›¾åœ¨æŸä¸ªä¸­é—´æ—¶é—´ç‚¹æ‹æ‘„

å¯¼è‡´æˆªå›¾æè¿°çš„"å®é™…ç»“æœ"åŸºäºä¸åŒæ—¶é—´ç‚¹çš„çŠ¶æ€ï¼Œä¸æˆªå›¾å†…å®¹ä¸ä¸€è‡´ã€‚

#### 1.3 æ­£ç¡®çš„æˆªå›¾æ—¶åº âœ…

```python
# âŒ é”™è¯¯çš„æ—¶åºï¼ˆæè¿°å¯èƒ½ä¸æˆªå›¾ä¸ç¬¦ï¼‰
profile_page.click_element(profile_page.SAVE_BUTTON)
profile_page.page.wait_for_timeout(2000)

# æ£€æŸ¥é”™è¯¯ï¼ˆæ­¤æ—¶å¯èƒ½æœ‰é”™è¯¯ï¼‰
has_error = check_for_errors()

# æˆªå›¾ï¼ˆæ­¤æ—¶è¿˜ä¸çŸ¥é“åç«¯æ˜¯å¦çœŸçš„ä¿å­˜äº†ï¼‰
profile_page.take_screenshot(screenshot_path)

# åˆ·æ–°éªŒè¯
profile_page.page.reload()
is_saved = get_saved_value() == input_value

# ç”Ÿæˆæè¿°ï¼ˆis_savedæ˜¯åˆ·æ–°åçš„ï¼Œhas_erroræ˜¯åˆ·æ–°å‰çš„ï¼Œæˆªå›¾æ—¶æœºä¸ç¡®å®šï¼‰
screenshot_desc = f"ï¼ˆé¢„æœŸ:{expected}, å®é™…:{is_saved}/{has_error}ï¼‰"
```

```python
# âœ… æ­£ç¡®çš„æ—¶åºï¼ˆæè¿°ä¸æˆªå›¾å†…å®¹ä¸€è‡´ï¼‰
profile_page.click_element(profile_page.SAVE_BUTTON)
profile_page.page.wait_for_timeout(2000)

# æ£€æŸ¥å‰ç«¯é”™è¯¯æç¤ºï¼ˆä¿å­˜åç«‹å³æ£€æµ‹ï¼‰
has_error = check_for_errors()
error_message = get_error_message()

# åˆ·æ–°éªŒè¯åç«¯ä¿å­˜ç»“æœï¼ˆå…ˆè·å–is_savedï¼‰
profile_page.page.reload()
profile_page.page.wait_for_load_state("domcontentloaded")
saved_value = get_saved_value()
is_saved = saved_value == input_value

# æˆªå›¾ï¼ˆæ­¤æ—¶å·²ç»çŸ¥é“åç«¯ä¿å­˜ç»“æœï¼Œæè¿°å‡†ç¡®ï¼‰
profile_page.take_screenshot(screenshot_path)

# ç”Ÿæˆæè¿°ï¼ˆæ‰€æœ‰çŠ¶æ€éƒ½å·²ç¡®å®šï¼‰
save_actual_str = "æˆåŠŸ" if is_saved else "å¤±è´¥"
error_actual_str = "æœ‰é”™è¯¯" if has_error else "æ— é”™è¯¯"
screenshot_desc = f"ï¼ˆé¢„æœŸ:{expected}, å®é™…:{save_actual_str}/{error_actual_str}ï¼‰"
```

#### 1.4 æˆªå›¾æè¿°å®Œæ•´æ ¼å¼

```python
# æˆªå›¾æè¿°å¿…é¡»åŒ…å«ï¼šé¢„æœŸä¿å­˜çŠ¶æ€/é¢„æœŸé”™è¯¯çŠ¶æ€, å®é™…ä¿å­˜çŠ¶æ€/å®é™…é”™è¯¯çŠ¶æ€
screenshot_desc = f"{idx}-{scenario_name}_ä¿å­˜åï¼ˆé¢„æœŸ:{save_expected}/{error_expected}, å®é™…:{save_actual}/{error_actual}ï¼‰"

# ç¤ºä¾‹ï¼š
# âœ… 21-è¶…é•¿65å­—ç¬¦_ä¿å­˜åï¼ˆé¢„æœŸ:å¤±è´¥/æœ‰é”™è¯¯, å®é™…:å¤±è´¥/æœ‰é”™è¯¯ï¼‰
# âœ… 13-åŒ…å«ç©ºæ ¼_ä¿å­˜åï¼ˆé¢„æœŸ:å¤±è´¥/æœ‰é”™è¯¯, å®é™…:å¤±è´¥/æ— é”™è¯¯ï¼‰  <- è¡¨ç¤ºå‰ç«¯BUG
```

### 2. å‰ç«¯BUGæ£€æµ‹æœºåˆ¶ â­â­

#### 2.1 é—®é¢˜æè¿°
æŸäº›æ— æ•ˆè¾“å…¥è¢«åç«¯æ­£ç¡®æ‹’ç»ï¼Œä½†å‰ç«¯æ²¡æœ‰æ˜¾ç¤ºä»»ä½•é”™è¯¯æç¤ºã€‚è¿™æ˜¯å‰ç«¯BUGï¼Œä½†æµ‹è¯•å´é™é»˜é€šè¿‡äº†ã€‚

#### 2.2 è§£å†³æ–¹æ¡ˆï¼šå‰ç«¯BUGæ£€æµ‹ä¸æ ‡è®°

```python
# 1. åœ¨æ¯ä¸ªåœºæ™¯ç»“æœä¸­æ·»åŠ å‰ç«¯BUGæ ‡è®°
is_frontend_bug = scenario['should_error'] and not has_error

validation_results.append({
    "scenario": scenario['name'],
    "expected_save": scenario['should_save'],
    "actually_saved": is_saved,
    "expected_error": scenario['should_error'],
    "actually_error": has_error,
    "match": overall_match,
    "is_frontend_bug": is_frontend_bug  # â­ å…³é”®ï¼šæ ‡è®°å‰ç«¯BUG
})

# 2. å¦‚æœæ£€æµ‹åˆ°å‰ç«¯BUGï¼Œè®°å½•è¯¦ç»†æ—¥å¿—
if is_frontend_bug:
    logger.error(f"  ğŸ› å‰ç«¯BUGï¼šæ— æ•ˆè¾“å…¥æœªæ˜¾ç¤ºé”™è¯¯æç¤ºï¼ï¼ˆåç«¯å·²æ‹’ç»ï¼Œä½†å‰ç«¯æ— åé¦ˆï¼‰")
```

### 3. æµ‹è¯•å¤±è´¥æ–­è¨€æœºåˆ¶ â­â­

#### 3.1 é—®é¢˜æè¿°
å³ä½¿å­˜åœ¨å¤±è´¥åœºæ™¯æˆ–å‰ç«¯BUGï¼Œæµ‹è¯•ä»ç„¶æ˜¾ç¤ºé€šè¿‡ï¼ˆå› ä¸ºæ²¡æœ‰æ–­è¨€ï¼‰ã€‚

#### 3.2 è§£å†³æ–¹æ¡ˆï¼šåœ¨æµ‹è¯•ç»“æŸæ—¶æ·»åŠ æ–­è¨€

```python
# åœ¨æµ‹è¯•ç»“æŸæ—¶ï¼Œæ£€æŸ¥å¹¶æ–­è¨€å¤±è´¥
frontend_bugs = [r for r in validation_results if r.get('is_frontend_bug', False)]
failed_scenarios = [r for r in validation_results if not r['match']]

# è¾“å‡ºå‰ç«¯BUGæ±‡æ€»
if frontend_bugs:
    logger.error(f"ğŸ› æ£€æµ‹åˆ° {len(frontend_bugs)} ä¸ªå‰ç«¯BUG:")
    for bug in frontend_bugs:
        logger.error(f"   - {bug['scenario']}: è¾“å…¥åº”æ˜¾ç¤ºé”™è¯¯ä½†å‰ç«¯æ— æç¤º")

# â­ å…³é”®ï¼šå¦‚æœå­˜åœ¨å¤±è´¥åœºæ™¯æˆ–å‰ç«¯BUGï¼Œæµ‹è¯•æ ‡è®°ä¸ºFAIL
if failed_scenarios or frontend_bugs:
    failure_msgs = []
    if failed_scenarios:
        failure_msgs.append(f"âŒ {len(failed_scenarios)}ä¸ªåœºæ™¯éªŒè¯å¤±è´¥")
    if frontend_bugs:
        bug_names = [b['scenario'] for b in frontend_bugs]
        failure_msgs.append(f"ğŸ› {len(frontend_bugs)}ä¸ªå‰ç«¯BUG: {', '.join(bug_names)}")
    
    assert False, f"å­—æ®µéªŒè¯æµ‹è¯•å¤±è´¥: {'; '.join(failure_msgs)}"
```

### 4. è¾“å…¥éªŒè¯æµ‹è¯•å®Œæ•´æ¨¡æ¿ â­â­â­

```python
def test_field_validation(self, logged_in_page):
    """
    å­—æ®µéªŒè¯æµ‹è¯•æ¨¡æ¿ï¼ˆåŒ…å«åŒæˆªå›¾ç­–ç•¥ï¼‰
    
    âš ï¸ æµ‹è¯•å‰å¿…é¡»ç¡®è®¤åç«¯éªŒè¯è§„åˆ™ï¼
    åŒ…å«ï¼šæ ¼å¼éªŒè¯ã€é•¿åº¦éªŒè¯ã€å¿…å¡«éªŒè¯ã€å‰ç«¯BUGæ£€æµ‹ã€åŒæˆªå›¾ç­–ç•¥
    """
    screenshot_idx = 1
    validation_results = []
    
    # âš ï¸ åœ¨docstringä¸­è®°å½•å·²ç¡®è®¤çš„åç«¯éªŒè¯è§„åˆ™
    # ä¾‹å¦‚ï¼šMaxLength=64, MinLength=0, æ— æ ¼å¼éªŒè¯, éå¿…å¡«
    
    # å®šä¹‰æµ‹è¯•åœºæ™¯ï¼ˆåŸºäºå·²ç¡®è®¤çš„åç«¯è§„åˆ™ï¼‰
    test_scenarios = [
        {
            "name": "æœ‰æ•ˆè¾“å…¥",
            "value": "valid_value",
            "should_save": True,    # é¢„æœŸåç«¯ä¿å­˜æˆåŠŸ
            "should_error": False,  # é¢„æœŸå‰ç«¯æ— é”™è¯¯æç¤º
        },
        {
            "name": "æ— æ•ˆè¾“å…¥",
            "value": "invalid!@#",
            "should_save": False,   # é¢„æœŸåç«¯æ‹’ç»ä¿å­˜
            "should_error": True,   # é¢„æœŸå‰ç«¯æ˜¾ç¤ºé”™è¯¯
        },
    ]
    
    for scenario in test_scenarios:
        # 1. åˆ·æ–°é¡µé¢ç¡®ä¿å¹²å‡€çŠ¶æ€
        page.reload()
        page.wait_for_load_state("domcontentloaded")
        page.wait_for_timeout(2000)
        
        # 2. è¾“å…¥æµ‹è¯•å€¼
        page.fill_input(INPUT_SELECTOR, scenario['value'])
        
        # 3. æˆªå›¾1ï¼šè¾“å…¥å
        page.take_screenshot(f"{screenshot_idx}-{scenario['name']}_è¾“å…¥å")
        screenshot_idx += 1
        
        # 4. ç‚¹å‡»ä¿å­˜
        page.click_element(SAVE_BUTTON)
        page.wait_for_load_state("networkidle")
        page.wait_for_timeout(2000)
        
        # 5. æ£€æŸ¥å‰ç«¯é”™è¯¯æç¤ºï¼ˆä¿å­˜åç«‹å³æ£€æµ‹ï¼‰
        has_error = check_validation_error()
        error_message = get_error_message() if has_error else ""
        
        # 6. â­ å…³é”®ï¼šä¿å­˜åç«‹å³æˆªå›¾ï¼ˆæ•è·é”™è¯¯ä¿¡æ¯ï¼‰
        # æ³¨æ„ï¼šå¿…é¡»åœ¨åˆ·æ–°é¡µé¢ä¹‹å‰æˆªå›¾ï¼Œå› ä¸ºåˆ·æ–°åé”™è¯¯æç¤ºï¼ˆå¦‚Toastï¼‰ä¼šæ¶ˆå¤±
        error_expected = "æœ‰é”™è¯¯" if scenario['should_error'] else "æ— é”™è¯¯"
        error_actual = "æœ‰é”™è¯¯" if has_error else "æ— é”™è¯¯"
        
        # 7. åˆ·æ–°éªŒè¯åç«¯ä¿å­˜ç»“æœï¼ˆä»…åšæ•°æ®éªŒè¯ï¼Œä¸å†æˆªå›¾ï¼‰
        page.reload()
        page.wait_for_load_state("domcontentloaded")
        page.wait_for_timeout(2000)
        
        # 8. è·å–åç«¯å®é™…ä¿å­˜ç»“æœ
        saved_value = page.get_input_value(INPUT_SELECTOR)
        is_saved = saved_value == scenario['value']
        
        # 9. ç”Ÿæˆæˆªå›¾æè¿°ï¼ˆç»“åˆä¿å­˜ç»“æœå’Œé”™è¯¯çŠ¶æ€ï¼‰
        save_expected = "æˆåŠŸ" if scenario['should_save'] else "å¤±è´¥"
        save_actual = "æˆåŠŸ" if is_saved else "å¤±è´¥"
        
        screenshot_path = f"{field}_{scenario['name']}_save.png"
        page.take_screenshot(screenshot_path)
        allure.attach.file(
            f"screenshots/{screenshot_path}",
            name=f"{screenshot_idx}-{scenario['name']}_ä¿å­˜åï¼ˆé¢„æœŸ:{save_expected}/{error_expected}, å®é™…:{save_actual}/{error_actual}ï¼‰",
            attachment_type=allure.attachment_type.PNG
        )
        screenshot_idx += 1
        
        # 10. åˆ¤æ–­ç»“æœ
        save_match = is_saved == scenario['should_save']
        error_match = has_error == scenario['should_error']
        overall_match = save_match and error_match
        
        # 11. æ£€æµ‹å‰ç«¯BUG
        is_frontend_bug = scenario['should_error'] and not has_error
        if is_frontend_bug:
            logger.error(f"ğŸ› å‰ç«¯BUGï¼šæ— æ•ˆè¾“å…¥æœªæ˜¾ç¤ºé”™è¯¯æç¤ºï¼ï¼ˆåç«¯å·²æ‹’ç»ï¼Œä½†å‰ç«¯æ— åé¦ˆï¼‰")
        
        # 12. è®°å½•ç»“æœ
        validation_results.append({
            "scenario": scenario['name'],
            "expected_save": scenario['should_save'],
            "actually_saved": is_saved,
            "expected_error": scenario['should_error'],
            "actually_error": has_error,
            "error_message": error_message,
            "match": overall_match,
            "is_frontend_bug": is_frontend_bug
        })
    
    # 13. æµ‹è¯•ç»“æŸæ–­è¨€
    frontend_bugs = [r for r in validation_results if r.get('is_frontend_bug', False)]
    failed_scenarios = [r for r in validation_results if not r['match']]
    
    if failed_scenarios or frontend_bugs:
        failure_msgs = []
        if failed_scenarios:
            failure_msgs.append(f"âŒ {len(failed_scenarios)}ä¸ªåœºæ™¯éªŒè¯å¤±è´¥")
        if frontend_bugs:
            bug_names = [b['scenario'] for b in frontend_bugs]
            failure_msgs.append(f"ğŸ› {len(frontend_bugs)}ä¸ªå‰ç«¯BUG: {', '.join(bug_names)}")
        assert False, f"éªŒè¯æµ‹è¯•å¤±è´¥: {'; '.join(failure_msgs)}"
```

### 5. é”™è¯¯ä¿¡æ¯æˆªå›¾æ•è·é—®é¢˜ â­â­â­

#### 5.1 é—®é¢˜æè¿°
é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚toastæç¤ºã€è¡¨å•éªŒè¯é”™è¯¯ï¼‰åœ¨é¡µé¢åˆ·æ–°åä¼šæ¶ˆå¤±ã€‚
å¦‚æœåªåœ¨åˆ·æ–°åæˆªå›¾ï¼Œå°†æ— æ³•æ•æ‰åˆ°é”™è¯¯ä¿¡æ¯ï¼Œå¯¼è‡´æ— æ³•è¯æ˜å‰ç«¯BUGçš„å­˜åœ¨ã€‚

#### 5.2 è§£å†³æ–¹æ¡ˆï¼šå»¶è¿Ÿé™„å›¾ç­–ç•¥ (Deferred Attachment Strategy)

**æ ¸å¿ƒåŸåˆ™**ï¼š
1. **ä¿å­˜åç«‹å³æˆªå›¾**ï¼šæ­¤æ—¶é”™è¯¯ä¿¡æ¯è¿˜åœ¨é¡µé¢ä¸Šï¼Œå¿…é¡»åœ¨æ­¤åˆ»æˆªå›¾ã€‚
2. **åˆ·æ–°åéªŒè¯**ï¼šåˆ·æ–°æ˜¯ä¸ºäº†æ¸…é™¤é¡µé¢ç¼“å­˜ï¼ŒéªŒè¯åç«¯æ˜¯å¦çœŸçš„ä¿å­˜äº†æ•°æ®ã€‚
3. **å»¶è¿Ÿé™„åŠ æˆªå›¾**ï¼šä½¿ç”¨åˆ·æ–°åè·å–çš„å‡†ç¡®çŠ¶æ€ï¼ˆ`is_saved`ï¼‰æ¥ç”Ÿæˆæˆªå›¾æè¿°ï¼Œä½†ä½¿ç”¨çš„æ˜¯åˆ·æ–°å‰æ‹æ‘„çš„å›¾ç‰‡ã€‚

```python
# âœ… æ­£ç¡®æµç¨‹ï¼šä¿å­˜ -> æ£€æŸ¥é”™è¯¯ -> æˆªå›¾(å­˜æ–‡ä»¶) -> åˆ·æ–° -> éªŒè¯ä¿å­˜ -> é™„åŠ æˆªå›¾(å¸¦å®Œæ•´æè¿°)

# 1. ç‚¹å‡»ä¿å­˜
page.click_element(SAVE_BUTTON)
page.wait_for_load_state("networkidle")
page.wait_for_timeout(2000)

# 2. æ£€æŸ¥å‰ç«¯é”™è¯¯æç¤ºï¼ˆä¿å­˜åç«‹å³æ£€æµ‹ï¼‰
has_error = check_validation_error()
error_message = get_error_message()

# 3. â­ å…³é”®ï¼šä¿å­˜åç«‹å³æˆªå›¾ï¼ˆæ•è·å¯èƒ½çš„é”™è¯¯ä¿¡æ¯ï¼‰
# æ³¨æ„ï¼šå¿…é¡»åœ¨åˆ·æ–°å‰æˆªå›¾ï¼Œå¦åˆ™Toastç­‰æç¤ºä¼šæ¶ˆå¤±
# å…ˆä¿å­˜æ–‡ä»¶ï¼Œç¨åé™„åŠ åˆ°æŠ¥å‘Š
screenshot_path = f"{field}_{scenario}_save_{timestamp}.png"
page.take_screenshot(screenshot_path)

# 4. åˆ·æ–°éªŒè¯åç«¯ä¿å­˜ç»“æœ
page.reload()
page.wait_for_load_state("domcontentloaded")
page.wait_for_timeout(2000)

# 5. è·å–åç«¯å®é™…ä¿å­˜ç»“æœ
saved_value = page.get_input_value(INPUT_SELECTOR)
is_saved = saved_value == scenario['value']

# 6. ç”Ÿæˆæè¿°å¹¶é™„åŠ æˆªå›¾
# æ­¤æ—¶å·²æ‹¥æœ‰ is_saved (å®é™…ä¿å­˜çŠ¶æ€) å’Œ has_error (å®é™…é”™è¯¯çŠ¶æ€)
save_expected = "æˆåŠŸ" if scenario['should_save'] else "å¤±è´¥"
save_actual = "æˆåŠŸ" if is_saved else "å¤±è´¥"
error_expected = "æœ‰é”™è¯¯" if scenario['should_error'] else "æ— é”™è¯¯"
error_actual = "æœ‰é”™è¯¯" if has_error else "æ— é”™è¯¯"

screenshot_desc = f"{idx}-{scenario}_ä¿å­˜åï¼ˆé¢„æœŸ:{save_expected}/{error_expected}, å®é™…:{save_actual}/{error_actual}ï¼‰"

allure.attach.file(
    f"screenshots/{screenshot_path}",
    name=screenshot_desc,
    attachment_type=allure.attachment_type.PNG
)
```

#### 5.3 åŒæˆªå›¾ç®€åŒ–æµç¨‹

| æˆªå›¾ | æ—¶æœº | æè¿°æ ¼å¼ | ç”¨é€” |
|---|---|----|---|
| 1 | è¾“å…¥å | `{åœºæ™¯}_è¾“å…¥å` | è®°å½•è¾“å…¥çš„æµ‹è¯•å€¼ |
| 2 | ä¿å­˜åç«‹å³ï¼ˆåˆ·æ–°å‰ï¼‰ | `{åœºæ™¯}_ä¿å­˜åï¼ˆé¢„æœŸ:X/Y, å®é™…:A/Bï¼‰` | **æ•è·é”™è¯¯ä¿¡æ¯ + éªŒè¯æœ€ç»ˆç»“æœ** |

> **æ³¨æ„**ï¼šä¸å†éœ€è¦"åˆ·æ–°åæˆªå›¾"ï¼Œå› ä¸ºåˆ·æ–°åé”™è¯¯ä¿¡æ¯å·²æ¶ˆå¤±ï¼Œä¸”åç«¯ä¿å­˜ç»“æœå·²é€šè¿‡æè¿°ä½“ç°ã€‚

### 6. åç«¯éªŒè¯è§„åˆ™ç¡®è®¤ â­â­â­

#### 6.1 é—®é¢˜æè¿°
åœ¨ç¼–å†™è¾“å…¥éªŒè¯æµ‹è¯•æ—¶ï¼Œå¦‚æœå‡è®¾äº†é”™è¯¯çš„åç«¯éªŒè¯è§„åˆ™ï¼Œä¼šå¯¼è‡´ï¼š
- æµ‹è¯•é¢„æœŸä¸åç«¯å®é™…è¡Œä¸ºä¸ç¬¦
- æµ‹è¯•å¤±è´¥æˆ–è¯¯æŠ¥
- ä¾‹å¦‚ï¼šå‡è®¾PhoneNumberæœ‰æ ¼å¼éªŒè¯ï¼Œä½†åç«¯å®é™…åªæœ‰é•¿åº¦é™åˆ¶

#### 6.2 è§£å†³æ–¹æ¡ˆï¼šæµ‹è¯•å‰ç¡®è®¤åç«¯éªŒè¯è§„åˆ™

**å¿…é¡»æ­¥éª¤**ï¼š
1. **æ£€æŸ¥åç«¯ä»£ç **ï¼šæŸ¥çœ‹å­—æ®µçš„éªŒè¯å™¨ã€æ­£åˆ™è¡¨è¾¾å¼ã€é•¿åº¦é™åˆ¶
2. **æ£€æŸ¥æ¡†æ¶é»˜è®¤è¡Œä¸º**ï¼šå¦‚ABP Frameworkçš„Identityæ¨¡å—é»˜è®¤è§„åˆ™
3. **å®é™…æµ‹è¯•éªŒè¯**ï¼šç”¨å‡ ä¸ªå…¸å‹å€¼æ‰‹åŠ¨æµ‹è¯•ç¡®è®¤åç«¯è¡Œä¸º

**ABP Framework Identityæ¨¡å—é»˜è®¤è§„åˆ™å‚è€ƒ**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­—æ®µå        â”‚  é•¿åº¦é™åˆ¶  â”‚  æ ¼å¼éªŒè¯  â”‚  å¿…å¡«  â”‚  è¯´æ˜                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UserName      â”‚  1-256     â”‚  æœ‰æ­£åˆ™    â”‚   æ˜¯   â”‚  ^[a-zA-Z0-9_.@-]+$ â”‚
â”‚  Email         â”‚  3-256     â”‚  æœ‰æ­£åˆ™    â”‚   æ˜¯   â”‚  æ ‡å‡†é‚®ç®±æ ¼å¼        â”‚
â”‚  Name          â”‚  0-64      â”‚  âŒ æ—      â”‚   å¦   â”‚  å‡ ä¹æ— é™åˆ¶          â”‚
â”‚  Surname       â”‚  0-64      â”‚  âŒ æ—      â”‚   å¦   â”‚  å‡ ä¹æ— é™åˆ¶          â”‚
â”‚  PhoneNumber   â”‚  0-16      â”‚  âŒ æ—      â”‚   å¦   â”‚  åªæœ‰é•¿åº¦é™åˆ¶        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6.3 å¸¸è§é”™è¯¯å‡è®¾

```python
# âŒ é”™è¯¯ï¼šå‡è®¾PhoneNumberæœ‰æ ¼å¼éªŒè¯
{"name": "åŒ…å«å­—æ¯", "value": "138abc00138", "should_save": False, "should_error": True}

# âœ… æ­£ç¡®ï¼šåç«¯ABPæ¡†æ¶Identityæ¨¡å—å¯¹PhoneNumberåªæœ‰é•¿åº¦é™åˆ¶ï¼Œæ— æ ¼å¼éªŒè¯
{"name": "åŒ…å«å­—æ¯", "value": "138abc00138", "should_save": True, "should_error": False}
```

#### 6.4 éªŒè¯è§„åˆ™ç¡®è®¤æ£€æŸ¥æ¸…å•

åœ¨ç¼–å†™è¾“å…¥éªŒè¯æµ‹è¯•å‰ï¼Œç¡®è®¤ï¼š
- [ ] æ£€æŸ¥åç«¯ä»£ç ä¸­å­—æ®µçš„MaxLength/MinLength
- [ ] æ£€æŸ¥åç«¯ä»£ç ä¸­æ˜¯å¦æœ‰RegularExpressionéªŒè¯å™¨
- [ ] æ£€æŸ¥åç«¯ä»£ç ä¸­æ˜¯å¦æœ‰RequiredéªŒè¯å™¨
- [ ] ç¡®è®¤æ¡†æ¶ï¼ˆå¦‚ABPï¼‰çš„é»˜è®¤éªŒè¯è¡Œä¸º
- [ ] ç”¨2-3ä¸ªå…¸å‹å€¼æ‰‹åŠ¨æµ‹è¯•ç¡®è®¤åç«¯å®é™…è¡Œä¸º
- [ ] åœ¨æµ‹è¯•docstringä¸­è®°å½•ç¡®è®¤çš„åç«¯éªŒè¯è§„åˆ™

### 7. æ£€æŸ¥æ¸…å•ï¼šè¾“å…¥éªŒè¯æµ‹è¯• âœ…

åœ¨ç¼–å†™è¾“å…¥éªŒè¯æµ‹è¯•æ—¶ï¼Œç¡®ä¿ï¼š

#### åç«¯è§„åˆ™ç¡®è®¤ï¼ˆæµ‹è¯•å‰ï¼‰
- [ ] å·²æ£€æŸ¥åç«¯ä»£ç ä¸­çš„å­—æ®µéªŒè¯è§„åˆ™
- [ ] å·²ç¡®è®¤æ¡†æ¶é»˜è®¤éªŒè¯è¡Œä¸º
- [ ] å·²ç”¨æ‰‹åŠ¨æµ‹è¯•éªŒè¯åç«¯å®é™…è¡Œä¸º
- [ ] æµ‹è¯•docstringä¸­è®°å½•äº†åç«¯éªŒè¯è§„åˆ™

#### æˆªå›¾æ—¶åºæ£€æŸ¥
- [ ] ä¿å­˜åç«‹å³æˆªå›¾ï¼ˆåˆ·æ–°å‰ï¼‰æ•è·é”™è¯¯ä¿¡æ¯
- [ ] åˆ·æ–°åæˆªå›¾éªŒè¯ä¿å­˜ç»“æœ
- [ ] æˆªå›¾æè¿°åŸºäºç¡®å®šçš„is_savedå’Œhas_errorå€¼
- [ ] æˆªå›¾æè¿°æ ¼å¼å®Œæ•´ï¼š`ï¼ˆé¢„æœŸ:X/Y, å®é™…:A/Bï¼‰`

#### å‰ç«¯BUGæ£€æµ‹æ£€æŸ¥
- [ ] å®šä¹‰ `is_frontend_bug = should_error and not has_error`
- [ ] åœ¨validation_resultsä¸­åŒ…å«is_frontend_bugå­—æ®µ
- [ ] æ£€æµ‹åˆ°å‰ç«¯BUGæ—¶è®°å½•è¯¦ç»†æ—¥å¿—

#### æ–­è¨€æœºåˆ¶æ£€æŸ¥
- [ ] æµ‹è¯•ç»“æŸæ—¶æ”¶é›†æ‰€æœ‰å¤±è´¥åœºæ™¯å’Œå‰ç«¯BUG
- [ ] å­˜åœ¨å¤±è´¥æˆ–BUGæ—¶ä½¿ç”¨assert Falseè®©æµ‹è¯•å¤±è´¥
- [ ] æ–­è¨€ä¿¡æ¯åŒ…å«å…·ä½“çš„å¤±è´¥åœºæ™¯åç§°

#### æ—¥å¿—è®°å½•æ£€æŸ¥
- [ ] æ¯ä¸ªåœºæ™¯è®°å½•è¾“å…¥å€¼ã€é•¿åº¦ã€é¢„æœŸå’Œå®é™…ç»“æœ
- [ ] å‰ç«¯BUGä½¿ç”¨ğŸ›æ ‡è®°
- [ ] æµ‹è¯•ç»“æŸè¾“å‡ºæ±‡æ€»è¡¨æ ¼å’Œé€šè¿‡ç‡

### 8. è¾“å…¥éªŒè¯æµ‹è¯•æˆªå›¾çœŸå®æ€§åŸåˆ™ â­â­â­

#### 8.1 é—®é¢˜èƒŒæ™¯
åœ¨2024å¹´12æœˆçš„Emailå­—æ®µéªŒè¯æµ‹è¯•å®æˆ˜ä¸­ï¼Œé‡åˆ°äº†ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š
1. ä¸ºæ˜¾ç¤ºHTML5éªŒè¯é”™è¯¯ï¼Œæ³¨å…¥äº†çº¢è‰²toastæç¤ºæ¡†
2. ç”¨æˆ·åé¦ˆï¼šæˆªå›¾åº”æ˜¾ç¤ºé¡µé¢åŸå§‹çŠ¶æ€ï¼Œä¸åº”æœ‰ä»»ä½•æ³¨å…¥å…ƒç´ 
3. æ–­è¨€é€»è¾‘é”™è¯¯ï¼šå°†å‰ç«¯ä½“éªŒé—®é¢˜è¯¯åˆ¤ä¸ºæµ‹è¯•å¤±è´¥
4. æµ‹è¯•é¢„æœŸè®¾ç½®é”™è¯¯ï¼šæœªè€ƒè™‘input maxlengthç­‰å‰ç«¯é™åˆ¶

#### 8.2 æˆªå›¾çœŸå®æ€§åŸåˆ™ âœ…

**æ ¸å¿ƒåŸåˆ™**ï¼šæˆªå›¾å¿…é¡»æ˜¾ç¤ºé¡µé¢çš„çœŸå®åŸå§‹çŠ¶æ€ï¼Œä¸å¾—æ³¨å…¥ä»»ä½•è¾…åŠ©å…ƒç´ ã€‚

```python
# âŒ é”™è¯¯åšæ³•ï¼šæ³¨å…¥çº¢è‰²æç¤ºæ¡†
def inject_validation_error_display(page, error_message):
    """åœ¨é¡µé¢å³ä¸Šè§’æ³¨å…¥çº¢è‰²é”™è¯¯æç¤ºæ¡†"""
    script = f"""
    (() => {{
        let errorDiv = document.createElement('div');
        errorDiv.style = 'position:fixed; top:20px; right:20px; ...';
        errorDiv.innerHTML = '{error_message}';
        document.body.appendChild(errorDiv);
    }})()
    """
    page.evaluate(script)

# ç‚¹å‡»ä¿å­˜
page.click_save()

# æ£€æŸ¥é”™è¯¯
has_error = check_error()

# æ³¨å…¥æç¤ºæ¡†ï¼ˆâŒ ä¿®æ”¹äº†é¡µé¢ï¼‰
if has_error:
    inject_validation_error_display(page, error_message)

# æˆªå›¾ï¼ˆåŒ…å«æ³¨å…¥çš„å…ƒç´ ï¼‰
page.take_screenshot(...)

# ç§»é™¤æ³¨å…¥
remove_validation_error_display(page)
```

```python
# âœ… æ­£ç¡®åšæ³•ï¼šç›´æ¥æˆªå›¾é¡µé¢åŸå§‹çŠ¶æ€
# ç‚¹å‡»ä¿å­˜
page.click_save()
page.wait_for_timeout(2000)  # ç­‰å¾…toastç­‰åŸç”Ÿæç¤ºå‡ºç°

# æ£€æŸ¥é”™è¯¯ï¼ˆæ£€æµ‹é¡µé¢åŸç”Ÿçš„é”™è¯¯æç¤ºï¼‰
has_error = check_error()
error_message = get_error_message()

# ç›´æ¥æˆªå›¾ï¼ˆä¸åšä»»ä½•æ³¨å…¥ï¼‰
page.take_screenshot(...)

# å¦‚æœéœ€è¦åœ¨æŠ¥å‘Šä¸­ä½“ç°é”™è¯¯ä¿¡æ¯ï¼Œé€šè¿‡æè¿°æ–‡å­—æˆ–æ—¥å¿—è®°å½•
if has_error:
    logger.info(f"   âœ“ æ£€æµ‹åˆ°é”™è¯¯æç¤º: {error_message}")
```

**å…³é”®è¦ç‚¹**ï¼š
- âœ… æˆªå›¾å¿…é¡»æ˜¾ç¤ºé¡µé¢çœŸå®çŠ¶æ€
- âœ… é”™è¯¯ä¿¡æ¯é€šè¿‡æ—¥å¿—è®°å½•ï¼Œè€Œéæ³¨å…¥å…ƒç´ 
- âœ… ç­‰å¾…è¶³å¤Ÿæ—¶é—´è®©åŸç”Ÿtoastç­‰æç¤ºå‡ºç°
- âŒ ä¸å¾—æ³¨å…¥divã€æç¤ºæ¡†ç­‰ä»»ä½•å…ƒç´ 
- âŒ ä¸å¾—ä¿®æ”¹é¡µé¢æ ·å¼æˆ–å†…å®¹

#### 8.3 æ–­è¨€é€»è¾‘çš„æ­£ç¡®ç†è§£ âœ…

**æ ¸å¿ƒåŸåˆ™**ï¼šåªæœ‰å®é™…ç»“æœä¸é¢„æœŸä¸ç¬¦æ—¶ï¼Œæµ‹è¯•æ‰åº”è¯¥å¤±è´¥ã€‚å‰ç«¯ä½“éªŒé—®é¢˜åº”ä½œä¸ºwarningè®°å½•ï¼Œè€Œéæµ‹è¯•å¤±è´¥ã€‚

```python
# âŒ é”™è¯¯åšæ³•ï¼šæŠŠå‰ç«¯ä½“éªŒé—®é¢˜å½“ä½œæµ‹è¯•å¤±è´¥
if failed_scenarios or frontend_bugs:
    failure_msgs = []
    if failed_scenarios:
        failure_msgs.append(f"âŒ {len(failed_scenarios)}ä¸ªåœºæ™¯éªŒè¯å¤±è´¥")
    if frontend_bugs:  # âŒ å‰ç«¯ä½“éªŒé—®é¢˜ä¸åº”å¯¼è‡´æµ‹è¯•å¤±è´¥
        bug_names = [b['scenario'] for b in frontend_bugs]
        failure_msgs.append(f"ğŸ› {len(frontend_bugs)}ä¸ªå‰ç«¯BUG")
    
    assert False, f"æµ‹è¯•å¤±è´¥: {'; '.join(failure_msgs)}"
```

```python
# âœ… æ­£ç¡®åšæ³•ï¼šåŒºåˆ†æµ‹è¯•å¤±è´¥å’Œå‰ç«¯ä½“éªŒé—®é¢˜
# 1. å‰ç«¯ä½“éªŒé—®é¢˜ï¼šå®é™…=é¢„æœŸï¼Œä½†ç”¨æˆ·ä½“éªŒä¸ä½³ï¼ˆä½œä¸ºwarningï¼‰
if frontend_bugs:
    logger.warning(f"âš ï¸ æ£€æµ‹åˆ° {len(frontend_bugs)} ä¸ªå‰ç«¯ä½“éªŒé—®é¢˜ï¼š")
    logger.warning("   ï¼ˆå®é™…ç»“æœç¬¦åˆé¢„æœŸï¼Œä½†å‰ç«¯æœªæ˜¾ç¤ºé”™è¯¯æç¤ºï¼‰")
    for bug in frontend_bugs:
        logger.warning(f"   - {bug['scenario']}: {bug['description']}")
    logger.warning("   ğŸ’¡ å»ºè®®ï¼šè™½ç„¶åç«¯æ­£ç¡®æ‹’ç»äº†ï¼Œä½†å‰ç«¯åº”æ˜¾ç¤ºé”™è¯¯æç¤ºä»¥æ”¹å–„ç”¨æˆ·ä½“éªŒ")

# 2. æµ‹è¯•å¤±è´¥ï¼šå®é™…â‰ é¢„æœŸï¼ˆåªæœ‰è¿™ç§æƒ…å†µæ‰assert Falseï¼‰
if failed_scenarios:
    failure_msgs = [f"âŒ {len(failed_scenarios)}ä¸ªåœºæ™¯å®é™…ç»“æœä¸é¢„æœŸä¸ç¬¦"]
    for scenario in failed_scenarios:
        failure_msgs.append(
            f"  - {scenario['scenario']}: "
            f"é¢„æœŸä¿å­˜={scenario['expected_save']}/é”™è¯¯={scenario['expected_error']}, "
            f"å®é™…ä¿å­˜={scenario['actually_saved']}/é”™è¯¯={scenario['actually_error']}"
        )
    assert False, f"æµ‹è¯•å¤±è´¥:\n" + "\n".join(failure_msgs)
```

**åˆ¤æ–­æ ‡å‡†**ï¼š
| æƒ…å†µ | ä¿å­˜é¢„æœŸ | ä¿å­˜å®é™… | é”™è¯¯é¢„æœŸ | é”™è¯¯å®é™… | åˆ¤æ–­ | å¤„ç† |
|-----|----|----|----|----|----|----|
| å®Œå…¨åŒ¹é… | False | False | True | True | âœ… é€šè¿‡ | æ— éœ€å¤„ç† |
| ä¿å­˜ä¸ç¬¦ | True | False | False | False | âŒ å¤±è´¥ | assert False |
| é”™è¯¯ä¸ç¬¦ | False | False | True | False | âš ï¸ ä½“éªŒé—®é¢˜ | logger.warning |
| éƒ½ä¸ç¬¦ | True | False | True | False | âŒ å¤±è´¥ | assert False |

#### 8.4 æµ‹è¯•é¢„æœŸçš„å‡†ç¡®è®¾ç½® âœ…

**æ ¸å¿ƒåŸåˆ™**ï¼šæµ‹è¯•é¢„æœŸå¿…é¡»åŸºäºå‰ç«¯å’Œåç«¯çš„çœŸå®è¡Œä¸ºï¼Œè€Œéç†æƒ³å‡è®¾ã€‚

**å¸¸è§é”™è¯¯é¢„æœŸ**ï¼š

```python
# âŒ é”™è¯¯1ï¼šæœªè€ƒè™‘input maxlengthé™åˆ¶
{
    "name": "è¶…é•¿257å­—ç¬¦",
    "value": "x" * 257,
    "should_save": False,
    "should_error": True,  # âŒ é”™è¯¯ï¼input maxlengthä¼šé™åˆ¶è¾“å…¥ï¼Œä¸ä¼šæœ‰HTML5éªŒè¯é”™è¯¯
}

# âœ… æ­£ç¡®ï¼šè€ƒè™‘input maxlength
{
    "name": "è¶…é•¿257å­—ç¬¦",
    "value": "x" * 257,
    "should_save": False,
    "should_error": False,  # âœ… inputé™åˆ¶äº†è¾“å…¥ï¼Œæ— HTML5éªŒè¯é”™è¯¯
    "description": "è¢«inputé™åˆ¶æˆ–åç«¯æ‹’ç»",
}
```

```python
# âŒ é”™è¯¯2ï¼šæœªè€ƒè™‘å­—æ®µæ˜¯å¦required
{
    "name": "ç©ºå€¼éªŒè¯",
    "value": "",
    "should_save": False,
    "should_error": True,  # âŒ é”™è¯¯ï¼å¦‚æœå­—æ®µä¸æ˜¯requiredï¼Œä¸ä¼šæœ‰HTML5å¿…å¡«é”™è¯¯
}

# âœ… æ­£ç¡®ï¼šæ£€æŸ¥å­—æ®µæ˜¯å¦required
{
    "name": "ç©ºå€¼éªŒè¯",
    "value": "",
    "should_save": False,
    "should_error": False,  # âœ… å­—æ®µä¸æ˜¯requiredï¼Œæ— HTML5å¿…å¡«é”™è¯¯
    "description": "åç«¯æ‹’ç»ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰",
}
```

```python
# âŒ é”™è¯¯3ï¼šå‡è®¾äº†ä¸å­˜åœ¨çš„åç«¯éªŒè¯
{
    "name": "åŒ…å«å­—æ¯",
    "value": "138abc00138",
    "should_save": False,  # âŒ é”™è¯¯ï¼ABPçš„PhoneNumberåªæœ‰é•¿åº¦éªŒè¯ï¼Œæ— æ ¼å¼éªŒè¯
    "should_error": True,
}

# âœ… æ­£ç¡®ï¼šåŸºäºçœŸå®çš„åç«¯éªŒè¯è§„åˆ™
{
    "name": "åŒ…å«å­—æ¯",
    "value": "138abc00138",
    "should_save": True,   # âœ… åç«¯åªéªŒè¯é•¿åº¦ï¼Œæ¥å—å­—æ¯
    "should_error": False,
    "description": "åç«¯æ— æ ¼å¼éªŒè¯",
}
```

**é¢„æœŸè®¾ç½®æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ£€æŸ¥inputæ˜¯å¦æœ‰maxlengthå±æ€§ï¼ˆå½±å“should_errorï¼‰
- [ ] æ£€æŸ¥inputæ˜¯å¦æœ‰requiredå±æ€§ï¼ˆå½±å“ç©ºå€¼çš„should_errorï¼‰
- [ ] ç¡®è®¤åç«¯æ˜¯å¦æœ‰æ ¼å¼éªŒè¯ï¼ˆå½±å“should_saveï¼‰
- [ ] ç¡®è®¤åç«¯é•¿åº¦é™åˆ¶æ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡ç«¯ï¼ˆå½±å“should_errorï¼‰
- [ ] æ‰‹åŠ¨æµ‹è¯•2-3ä¸ªå…³é”®åœºæ™¯éªŒè¯é¢„æœŸå‡†ç¡®æ€§

#### 8.5 é”™è¯¯æ£€æµ‹çš„å…¨é¢æ€§ âœ…

**æ ¸å¿ƒåŸåˆ™**ï¼šå¿…é¡»æ£€æµ‹æ‰€æœ‰å¯èƒ½çš„é”™è¯¯æç¤ºæ¥æºï¼ŒåŒ…æ‹¬Toastã€Modalã€Inlineç­‰ã€‚

```python
# âŒ é”™è¯¯åšæ³•ï¼šåªæ£€æµ‹å°‘æ•°selectorï¼Œç­‰å¾…æ—¶é—´ä¸è¶³
page.click_save()
page.wait_for_timeout(1000)  # âŒ ç­‰å¾…æ—¶é—´ä¸è¶³

error_selectors = [".invalid-feedback", ".text-danger"]  # âŒ selectorå¤ªå°‘
for selector in error_selectors:
    if page.is_visible(selector):
        has_error = True
```

```python
# âœ… æ­£ç¡®åšæ³•ï¼šå…¨é¢æ£€æµ‹ï¼Œè¶³å¤Ÿç­‰å¾…æ—¶é—´
page.click_save()
page.wait_for_timeout(2000)  # âœ… ç­‰å¾…2ç§’è®©toastç­‰å¼‚æ­¥æç¤ºå‡ºç°

# âœ… æ£€æµ‹æ‰€æœ‰å¯èƒ½çš„é”™è¯¯æç¤ºæ¥æº
error_selectors = [
    # è¡¨å•å†…è”é”™è¯¯
    ".invalid-feedback",
    ".text-danger",
    "[role='alert'].text-danger",
    
    # Toastæç¤ºï¼ˆå„ç§UIæ¡†æ¶ï¼‰
    ".toast-error",
    ".Toastify__toast--error",
    ".ant-message-error",
    ".el-message--error",
    
    # é€šç”¨é”™è¯¯ï¼ˆæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼‰
    "[class*='toast'][class*='error']",
    "[class*='Toast'][class*='error']",
    "[role='alert']",
]

has_error = False
error_message = ""

for selector in error_selectors:
    if page.is_visible(selector):
        error_text = page.get_text(selector)
        if error_text and error_text.strip():  # âœ… éªŒè¯æ–‡æœ¬éç©º
            has_error = True
            if error_message:
                error_message += f" | {error_text}"
            else:
                error_message = error_text
            logger.info(f"   âœ“ æ£€æµ‹åˆ°é”™è¯¯æç¤º: {error_text}")
```

**é”™è¯¯æ£€æµ‹æ£€æŸ¥æ¸…å•**ï¼š
- [ ] ç­‰å¾…æ—¶é—´è‡³å°‘2ç§’ï¼ˆè®©å¼‚æ­¥toastå‡ºç°ï¼‰
- [ ] åŒ…å«è¡¨å•å†…è”é”™è¯¯selectorï¼ˆ.invalid-feedbackç­‰ï¼‰
- [ ] åŒ…å«å„ç§UIæ¡†æ¶çš„toast selectorï¼ˆToastifyã€AntDã€ElementUIç­‰ï¼‰
- [ ] åŒ…å«é€šç”¨æ¨¡ç³ŠåŒ¹é…selectorï¼ˆ[class*='error']ç­‰ï¼‰
- [ ] éªŒè¯è·å–çš„é”™è¯¯æ–‡æœ¬éç©º
- [ ] è®°å½•æ£€æµ‹åˆ°çš„æ‰€æœ‰é”™è¯¯ä¿¡æ¯

#### 8.6 è¾“å…¥éªŒè¯æµ‹è¯•ä¸‰åˆ†æ”¯é€»è¾‘ â­â­â­

**æ ¸å¿ƒåŸåˆ™**ï¼šæ ¹æ®å®é™…éªŒè¯ç»“æœï¼ˆhas_errorï¼‰å’Œé¢„æœŸè¡Œä¸ºï¼ˆshould_saveï¼‰å†³å®šæ˜¯å¦åˆ·æ–°é¡µé¢ã€‚

```python
# ç‚¹å‡»ä¿å­˜
page.click_save()
page.wait_for_timeout(2000)

# æ£€æŸ¥å‰ç«¯é”™è¯¯
has_error = check_validation_error()
error_message = get_error_message()

# â­ ä¸‰åˆ†æ”¯é€»è¾‘
if has_error:
    # åˆ†æ”¯1ï¼šæœ‰HTML5éªŒè¯é”™è¯¯
    # ç‰¹ç‚¹ï¼šéªŒè¯è¢«æµè§ˆå™¨é˜»æ­¢ï¼Œæ•°æ®æœªæäº¤åˆ°åç«¯
    # ç­–ç•¥ï¼šä¸åˆ·æ–°é¡µé¢ï¼Œç›´æ¥æˆªå›¾æ˜¾ç¤ºé”™è¯¯
    page.wait_for_timeout(500)
    
    # æˆªå›¾ï¼šä¿å­˜åï¼ˆæ˜¾ç¤ºé”™è¯¯ï¼‰
    page.take_screenshot(f"{scenario}_after_save.png")
    
    # HTML5éªŒè¯é˜»æ­¢äº†æäº¤ï¼Œæ•°æ®æœªä¿å­˜
    is_saved = False
    saved_value = page.get_input_value(INPUT_SELECTOR)
    
elif scenario['should_save']:
    # åˆ†æ”¯2ï¼šæ— HTML5é”™è¯¯ä¸”é¢„æœŸæˆåŠŸ
    # ç‰¹ç‚¹ï¼šé¢„æœŸæ•°æ®ä¼šè¢«åç«¯ä¿å­˜
    # ç­–ç•¥ï¼šå…ˆæˆªå›¾è¾“å…¥å€¼ï¼Œå†åˆ·æ–°éªŒè¯æŒä¹…åŒ–
    page.wait_for_timeout(1000)
    
    # æˆªå›¾ï¼šä¿å­˜åï¼ˆåˆ·æ–°å‰æ˜¾ç¤ºè¾“å…¥å€¼ï¼‰
    page.take_screenshot(f"{scenario}_after_save.png")
    
    # åˆ·æ–°éªŒè¯æŒä¹…åŒ–
    page.reload()
    page.wait_for_load_state("domcontentloaded")
    page.wait_for_timeout(2000)
    
    # è·å–æŒä¹…åŒ–çš„å€¼
    saved_value = page.get_input_value(INPUT_SELECTOR)
    is_saved = saved_value == scenario['value']
    
else:
    # åˆ†æ”¯3ï¼šæ— HTML5é”™è¯¯ä½†é¢„æœŸå¤±è´¥
    # ç‰¹ç‚¹ï¼šå¯èƒ½è¢«inputé™åˆ¶ã€æˆ–åç«¯å°†æ‹’ç»
    # ç­–ç•¥ï¼šå…ˆæˆªå›¾ï¼Œå†åˆ·æ–°éªŒè¯åç«¯æ˜¯å¦çœŸçš„æ‹’ç»äº†
    page.wait_for_timeout(500)
    
    # æˆªå›¾ï¼šä¿å­˜åï¼ˆæ˜¾ç¤ºè¾“å…¥æ¡†å½“å‰å€¼ï¼‰
    page.take_screenshot(f"{scenario}_after_save.png")
    
    # åˆ·æ–°éªŒè¯åç«¯æ˜¯å¦æ‹’ç»
    page.reload()
    page.wait_for_load_state("domcontentloaded")
    page.wait_for_timeout(2000)
    
    # è·å–æŒä¹…åŒ–çš„å€¼æ¥åˆ¤æ–­
    saved_value = page.get_input_value(INPUT_SELECTOR)
    is_saved = saved_value == scenario['value']

# ç”Ÿæˆæˆªå›¾æè¿°ï¼ˆæ­¤æ—¶is_savedå’Œhas_erroréƒ½å·²ç¡®å®šï¼‰
save_actual = "æˆåŠŸ" if is_saved else "å¤±è´¥"
error_actual = "æœ‰é”™è¯¯" if has_error else "æ— é”™è¯¯"
screenshot_desc = f"{idx}-{scenario}_ä¿å­˜åï¼ˆé¢„æœŸ:X/Y, å®é™…:{save_actual}/{error_actual}ï¼‰"
```

**ä¸‰åˆ†æ”¯å¯¹æ¯”è¡¨**ï¼š

| åˆ†æ”¯ | æ¡ä»¶ | æ˜¯å¦åˆ·æ–° | æˆªå›¾æ—¶æœº | is_savedåˆ¤æ–­ | å…¸å‹åœºæ™¯ |
|-----|-----|----|----|----|----|
| 1 | has_error=True | âŒ ä¸åˆ·æ–° | ä¿å­˜åç«‹å³ | Falseï¼ˆéªŒè¯è¢«é˜»æ­¢ï¼‰ | ç¼ºå°‘@ç¬¦å· |
| 2 | has_error=False<br/>should_save=True | âœ… åˆ·æ–° | åˆ·æ–°å‰ | æ¯”è¾ƒæŒä¹…åŒ–å€¼ | æ­£å¸¸é‚®ç®± |
| 3 | has_error=False<br/>should_save=False | âœ… åˆ·æ–° | åˆ·æ–°å‰ | æ¯”è¾ƒæŒä¹…åŒ–å€¼ | è¶…é•¿å­—ç¬¦<br/>ï¼ˆè¢«inputé™åˆ¶ï¼‰ |

#### 8.7 å®æˆ˜æ¡ˆä¾‹æ€»ç»“

**æ¡ˆä¾‹èƒŒæ™¯**ï¼šEmailå­—æ®µéªŒè¯æµ‹è¯•ï¼ˆ15ä¸ªåœºæ™¯ï¼‰

**é‡åˆ°çš„é—®é¢˜**ï¼š
1. âŒ æ³¨å…¥çº¢è‰²toast â†’ ç”¨æˆ·è¦æ±‚æ˜¾ç¤ºåŸå§‹é¡µé¢
2. âŒ å‰ç«¯BUGå¯¼è‡´æµ‹è¯•å¤±è´¥ â†’ åº”åŒºåˆ†å¤±è´¥å’Œä½“éªŒé—®é¢˜
3. âŒ æµ‹è¯•é¢„æœŸé”™è¯¯ â†’ æœªè€ƒè™‘maxlengthå’Œrequired
4. âŒ Toastæ£€æµ‹ä¸å…¨ â†’ åªæœ‰2ä¸ªselectorä¸”ç­‰å¾…1ç§’

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. âœ… å»æ‰æ³¨å…¥ï¼Œç›´æ¥æˆªå›¾åŸå§‹é¡µé¢
2. âœ… ä¿®æ­£æ–­è¨€ï¼šåªæœ‰å®é™…â‰ é¢„æœŸæ‰å¤±è´¥
3. âœ… ä¿®æ­£é¢„æœŸï¼šè€ƒè™‘maxlengthã€requiredç­‰
4. âœ… å¢å¼ºæ£€æµ‹ï¼š10+ä¸ªselectorä¸”ç­‰å¾…2ç§’

**æœ€ç»ˆç»“æœ**ï¼š
- é€šè¿‡ç‡ï¼š73.3% â†’ 80.0% â†’ **100%** ğŸ‰
- æ‰€æœ‰æˆªå›¾çœŸå®å‡†ç¡®
- æ–­è¨€é€»è¾‘æ¸…æ™°æ­£ç¡®
- æˆåŠŸè¯†åˆ«3ä¸ªå‰ç«¯ä½“éªŒé—®é¢˜ï¼ˆä½œä¸ºwarningï¼Œä¸å½±å“é€šè¿‡ï¼‰

#### 8.8 è¾“å…¥éªŒè¯æµ‹è¯•å¿«é€Ÿæ£€æŸ¥æ¸…å• â­

åœ¨ç¼–å†™è¾“å…¥éªŒè¯æµ‹è¯•å‰ï¼Œå¿«é€Ÿæ£€æŸ¥ï¼š

**æµ‹è¯•é¢„æœŸè®¾ç½®**ï¼š
- [ ] æŸ¥çœ‹inputçš„maxlengthå±æ€§
- [ ] æŸ¥çœ‹inputçš„requiredå±æ€§
- [ ] ç¡®è®¤åç«¯éªŒè¯è§„åˆ™ï¼ˆæ ¼å¼ã€é•¿åº¦ã€å¿…å¡«ï¼‰
- [ ] æ‰‹åŠ¨æµ‹è¯•2-3ä¸ªå…³é”®åœºæ™¯

**æˆªå›¾ç­–ç•¥**ï¼š
- [ ] ä¸æ³¨å…¥ä»»ä½•å…ƒç´ åˆ°é¡µé¢
- [ ] ä¿å­˜åç«‹å³æˆªå›¾ï¼ˆåˆ·æ–°å‰ï¼‰
- [ ] ä½¿ç”¨ä¸‰åˆ†æ”¯é€»è¾‘å†³å®šæ˜¯å¦åˆ·æ–°
- [ ] æˆªå›¾æè¿°åŸºäºç¡®å®šçš„is_savedå’Œhas_error

**é”™è¯¯æ£€æµ‹**ï¼š
- [ ] ç­‰å¾…è‡³å°‘2ç§’è®©toastå‡ºç°
- [ ] åŒ…å«10+ä¸ªå¸¸è§é”™è¯¯selector
- [ ] éªŒè¯é”™è¯¯æ–‡æœ¬éç©º
- [ ] è®°å½•æ‰€æœ‰æ£€æµ‹åˆ°çš„é”™è¯¯

**æ–­è¨€é€»è¾‘**ï¼š
- [ ] å‰ç«¯ä½“éªŒé—®é¢˜ç”¨logger.warning
- [ ] åªæœ‰å®é™…â‰ é¢„æœŸæ‰assert False
- [ ] æ–­è¨€ä¿¡æ¯åŒ…å«è¯¦ç»†çš„ä¸ç¬¦åœºæ™¯

**ä»£ç æ¨¡æ¿å‚è€ƒ**ï¼š
å‚è€ƒæœ¬è§„åˆ™ç¬¬4èŠ‚"è¾“å…¥éªŒè¯æµ‹è¯•å®Œæ•´æ¨¡æ¿"å’Œç¬¬8.6èŠ‚"ä¸‰åˆ†æ”¯é€»è¾‘"ã€‚

### 9. é”™è¯¯æ£€æµ‹æ—¶æœºä¸å»¶è¿Ÿæ£€æµ‹æœºåˆ¶ â­â­â­

#### 9.1 é—®é¢˜èƒŒæ™¯ï¼ˆ2024å¹´12æœˆå®æˆ˜æ¡ˆä¾‹ï¼‰

åœ¨Name/Surname/Phone/Usernameå­—æ®µçš„è¶…é•¿å­—ç¬¦éªŒè¯æµ‹è¯•ä¸­å‘ç°ï¼š
- **æˆªå›¾æ˜¾ç¤º**ï¼šæœ‰é”™è¯¯æç¤ºï¼ˆToastæ¶ˆæ¯ï¼‰
- **ä»£ç æ£€æµ‹**ï¼š`has_error=False`ï¼ˆæœªæ£€æµ‹åˆ°é”™è¯¯ï¼‰
- **æ–­è¨€ç»“æœ**ï¼šæµ‹è¯•å¤±è´¥ï¼ˆé¢„æœŸæœ‰é”™è¯¯ï¼Œå®é™…æ— é”™è¯¯ï¼‰

**æ ¹æœ¬åŸå› **ï¼šToastç­‰åŠ¨æ€é”™è¯¯æç¤ºæœ‰æ˜¾ç¤ºå»¶è¿Ÿï¼Œåœ¨ç‚¹å‡»ä¿å­˜å2ç§’æ£€æµ‹æ—¶è¿˜æœªå‡ºç°ï¼Œä½†åœ¨æˆªå›¾æ—¶ï¼ˆçº¦2.5-3ç§’åï¼‰å·²ç»æ˜¾ç¤ºã€‚

#### 9.2 æ‰§è¡Œæ—¶åºåˆ†æ

```
ç‚¹å‡»ä¿å­˜ (t=0s)
  â†“
ç­‰å¾…2ç§’ (t=2s)
  â†“
æ£€æŸ¥é”™è¯¯ (t=2s) â† has_error=Falseï¼ˆtoastè¿˜æœªå‡ºç°ï¼‰
  â†“
ç­‰å¾…500ms (t=2.5s)
  â†“
æˆªå›¾ (t=2.5s) â† æˆªå›¾ä¸­æœ‰é”™è¯¯æç¤ºï¼ˆtoastå·²å‡ºç°ï¼‰
  â†“
æ–­è¨€å¤±è´¥ï¼ˆå› ä¸ºhas_error=False != should_error=Trueï¼‰
```

#### 9.3 è§£å†³æ–¹æ¡ˆï¼šåŒé‡æ£€æµ‹ç­–ç•¥ âœ…

**æ ¸å¿ƒåŸåˆ™**ï¼šåœ¨æˆªå›¾å‰è¿›è¡Œç¬¬äºŒæ¬¡é”™è¯¯æ£€æµ‹ï¼Œç¡®ä¿æ•è·å»¶è¿Ÿæ˜¾ç¤ºçš„é”™è¯¯æç¤ºã€‚

```python
# âŒ é”™è¯¯åšæ³•ï¼šåªåœ¨ä¿å­˜åç«‹å³æ£€æµ‹ä¸€æ¬¡
profile_page.click_element(profile_page.SAVE_BUTTON)
profile_page.page.wait_for_timeout(2000)

# ç¬¬ä¸€æ¬¡æ£€æµ‹
has_error = check_validation_error()
error_message = get_error_message()

# ç­‰å¾…å¹¶æˆªå›¾
profile_page.page.wait_for_timeout(500)
profile_page.take_screenshot(screenshot_path)  # æ­¤æ—¶æˆªå›¾å¯èƒ½æœ‰é”™è¯¯ï¼Œä½†has_error=False
```

```python
# âœ… æ­£ç¡®åšæ³•ï¼šåœ¨æˆªå›¾å‰è¿›è¡Œç¬¬äºŒæ¬¡æ£€æµ‹
profile_page.click_element(profile_page.SAVE_BUTTON)
profile_page.page.wait_for_timeout(2000)

# ç¬¬ä¸€æ¬¡æ£€æµ‹ï¼ˆä¿å­˜åç«‹å³ï¼‰
has_error = check_validation_error()
error_message = get_error_message()

# å¯¹äºé¢„æœŸå¤±è´¥çš„åœºæ™¯ï¼Œåœ¨æˆªå›¾å‰å†æ¬¡æ£€æµ‹
if not has_error and not scenario['should_save']:
    # ç­‰å¾…ä¸€ä¸‹ï¼Œè®©å¯èƒ½çš„toastæœ‰æ—¶é—´å‡ºç°
    profile_page.page.wait_for_timeout(500)
    
    # â­ ç¬¬äºŒæ¬¡æ£€æµ‹ï¼ˆå»¶è¿Ÿæ£€æµ‹ï¼‰
    try:
        for selector in error_selectors:
            if profile_page.is_visible(selector):
                error_text = profile_page.get_text(selector)
                if error_text and error_text.strip():
                    has_error = True
                    if error_message:
                        error_message += f" | {error_text}"
                    else:
                        error_message = error_text
                    logger.info(f"  âœ“ å»¶è¿Ÿæ£€æµ‹åˆ°é”™è¯¯æç¤º: {error_text}")
                    break
    except:
        pass

# ç°åœ¨æˆªå›¾ï¼Œhas_errorå·²ç»å‡†ç¡®
profile_page.take_screenshot(screenshot_path)
```

#### 9.4 å»¶è¿Ÿæ£€æµ‹çš„æœ€ä½³ä½ç½®

å»¶è¿Ÿæ£€æµ‹åº”è¯¥æ”¾åœ¨**ä¸‰åˆ†æ”¯é€»è¾‘çš„ç¬¬3åˆ†æ”¯**ï¼ˆæ— HTML5é”™è¯¯ä½†é¢„æœŸå¤±è´¥ï¼‰ï¼š

```python
if has_error:
    # åˆ†æ”¯1ï¼šæœ‰HTML5éªŒè¯é”™è¯¯ - æ— éœ€å»¶è¿Ÿæ£€æµ‹
    # HTML5éªŒè¯æ˜¯åŒæ­¥çš„ï¼Œç«‹å³å°±èƒ½æ£€æµ‹åˆ°
    
elif scenario['should_save']:
    # åˆ†æ”¯2ï¼šæ— HTML5é”™è¯¯ä¸”é¢„æœŸæˆåŠŸ - æ— éœ€å»¶è¿Ÿæ£€æµ‹
    # é¢„æœŸæˆåŠŸï¼Œä¸åº”è¯¥æœ‰é”™è¯¯
    
else:
    # åˆ†æ”¯3ï¼šæ— HTML5é”™è¯¯ä½†é¢„æœŸå¤±è´¥ - â­éœ€è¦å»¶è¿Ÿæ£€æµ‹
    # å¯èƒ½æœ‰åç«¯é”™è¯¯toastå»¶è¿Ÿæ˜¾ç¤º
    profile_page.page.wait_for_timeout(500)
    
    # å»¶è¿Ÿæ£€æµ‹ä»£ç 
    try:
        for selector in error_selectors:
            if profile_page.is_visible(selector):
                error_text = profile_page.get_text(selector)
                if error_text and error_text.strip():
                    has_error = True
                    error_message = error_text
                    logger.info(f"  âœ“ å»¶è¿Ÿæ£€æµ‹åˆ°é”™è¯¯æç¤º: {error_text}")
                    break
    except:
        pass
```

#### 9.5 å¸¸è§å»¶è¿Ÿæ˜¾ç¤ºçš„é”™è¯¯æç¤ºç±»å‹

| é”™è¯¯ç±»å‹ | æ˜¾ç¤ºæ–¹å¼ | å»¶è¿Ÿæ—¶é—´ | æ˜¯å¦éœ€è¦å»¶è¿Ÿæ£€æµ‹ |
|---------|---------|---------|--------------|
| HTML5éªŒè¯é”™è¯¯ | æµè§ˆå™¨åŸç”Ÿæç¤º | 0msï¼ˆåŒæ­¥ï¼‰ | âŒ ä¸éœ€è¦ |
| Inlineé”™è¯¯ | `.invalid-feedback` | 0-100ms | âŒ ä¸éœ€è¦ |
| Toastæ¶ˆæ¯ | `.toast-error` | 100-500ms | âœ… éœ€è¦ |
| Modalå¼¹çª— | `.modal-error` | 200-800ms | âœ… éœ€è¦ |
| åç«¯å“åº”é”™è¯¯ | å„ç§å½¢å¼ | å–å†³äºç½‘ç»œ | âœ… éœ€è¦ |

#### 9.6 å»¶è¿Ÿæ£€æµ‹æ£€æŸ¥æ¸…å•

åœ¨ç¼–å†™è¾“å…¥éªŒè¯æµ‹è¯•æ—¶ï¼š
- [ ] ç¬¬ä¸€æ¬¡é”™è¯¯æ£€æµ‹ï¼šä¿å­˜åç«‹å³æ‰§è¡Œï¼ˆ2ç§’ç­‰å¾…åï¼‰
- [ ] ç¬¬äºŒæ¬¡é”™è¯¯æ£€æµ‹ï¼šä»…åœ¨åˆ†æ”¯3ï¼ˆæ— HTML5é”™è¯¯ä½†é¢„æœŸå¤±è´¥ï¼‰ä¸­æ‰§è¡Œ
- [ ] å»¶è¿Ÿæ—¶é—´ï¼šè‡³å°‘500msï¼Œè®©toastæœ‰æ—¶é—´å‡ºç°
- [ ] é”™è¯¯åˆå¹¶ï¼šå°†å»¶è¿Ÿæ£€æµ‹åˆ°çš„é”™è¯¯è¿½åŠ åˆ°error_message
- [ ] æ—¥å¿—è®°å½•ï¼šæ ‡è®°ä¸º"å»¶è¿Ÿæ£€æµ‹åˆ°é”™è¯¯æç¤º"ä»¥ä¾¿è°ƒè¯•
- [ ] å¼‚å¸¸å¤„ç†ï¼šä½¿ç”¨try-exceptåŒ…è£¹ï¼Œé¿å…å»¶è¿Ÿæ£€æµ‹æœ¬èº«å¯¼è‡´æµ‹è¯•å´©æºƒ

### 10. ABPæ¡†æ¶å‰ç«¯HTMLå±æ€§ç¼ºå¤±é—®é¢˜ â­â­â­

#### 10.1 é—®é¢˜èƒŒæ™¯ï¼ˆABP Framework Identityæ¨¡å—ï¼‰

åœ¨æµ‹è¯•ABP Frameworkçš„Identityæ¨¡å—ï¼ˆç”¨æˆ·ä¸ªäººä¿¡æ¯ç¼–è¾‘ï¼‰æ—¶å‘ç°ï¼ŒæŸäº›å­—æ®µè™½ç„¶åç«¯æœ‰ä¸¥æ ¼éªŒè¯ï¼Œä½†å‰ç«¯HTMLç¼ºå°‘ç›¸åº”çš„éªŒè¯å±æ€§ï¼š

**å…¸å‹æ¡ˆä¾‹**ï¼š
1. **UserNameå­—æ®µ**ï¼š
   - åç«¯ï¼šå¿…å¡«ï¼ˆRequired=trueï¼‰+ æ ¼å¼éªŒè¯ï¼ˆæ­£åˆ™ï¼š`^[a-zA-Z0-9_.@-]+$`ï¼‰
   - å‰ç«¯HTMLï¼šâŒ æ— `required`å±æ€§ + âŒ æ— `pattern`å±æ€§
   - ç»“æœï¼šæ— æ•ˆè¾“å…¥ä¸ä¼šè§¦å‘HTML5éªŒè¯é”™è¯¯ï¼Œåªèƒ½ä¾èµ–åç«¯æ‹’ç»

2. **Emailå­—æ®µ**ï¼š
   - åç«¯ï¼šå¿…å¡«ï¼ˆRequired=trueï¼‰+ é‚®ç®±æ ¼å¼éªŒè¯
   - å‰ç«¯HTMLï¼šâŒ æ— `required`å±æ€§ï¼ˆè™½ç„¶æœ‰`type="email"`ï¼‰
   - ç»“æœï¼šç©ºå€¼ä¸ä¼šè§¦å‘HTML5å¿…å¡«é”™è¯¯

#### 10.2 å‰ç«¯HTMLå±æ€§ç¼ºå¤±å¯¼è‡´çš„æµ‹è¯•é¢„æœŸé”™è¯¯

```python
# âŒ é”™è¯¯çš„æµ‹è¯•é¢„æœŸï¼ˆå‡è®¾å‰ç«¯æœ‰å®Œæ•´çš„HTML5éªŒè¯ï¼‰
{
    "name": "åŒ…å«ç©ºæ ¼",
    "value": "user name 123",
    "should_save": False,
    "should_error": True,  # âŒ é”™è¯¯ï¼å‰ç«¯HTMLæ— patternï¼Œä¸ä¼šè§¦å‘HTML5éªŒè¯é”™è¯¯
    "description": "åŒ…å«ç©ºæ ¼ï¼ˆä¸ç¬¦åˆæ­£åˆ™ï¼‰",
}

# âŒ é”™è¯¯çš„æµ‹è¯•é¢„æœŸï¼ˆå‡è®¾å‰ç«¯æœ‰requiredå±æ€§ï¼‰
{
    "name": "ç©ºå€¼éªŒè¯",
    "value": "",
    "should_save": False,
    "should_error": True,  # âŒ é”™è¯¯ï¼å‰ç«¯HTMLæ— requiredï¼Œä¸ä¼šè§¦å‘HTML5å¿…å¡«é”™è¯¯
    "description": "ç©ºå€¼ï¼ˆå¿…å¡«å­—æ®µï¼‰",
}
```

```python
# âœ… æ­£ç¡®çš„æµ‹è¯•é¢„æœŸï¼ˆåŸºäºå‰ç«¯HTMLçš„çœŸå®çŠ¶æ€ï¼‰
{
    "name": "åŒ…å«ç©ºæ ¼",
    "value": "user name 123",
    "should_save": False,
    "should_error": False,  # âœ… æ­£ç¡®ï¼å‰ç«¯HTMLæ— patternï¼Œæ— HTML5éªŒè¯é”™è¯¯
    "description": "åŒ…å«ç©ºæ ¼ï¼ˆä¸ç¬¦åˆæ­£åˆ™ï¼Œå‰ç«¯æ— patternï¼‰",
    "expected": "åç«¯æ‹’ç»ï¼ˆæ— å‰ç«¯æç¤ºï¼‰",
}

{
    "name": "ç©ºå€¼éªŒè¯",
    "value": "",
    "should_save": False,
    "should_error": False,  # âœ… æ­£ç¡®ï¼å‰ç«¯HTMLæ— requiredï¼Œæ— HTML5å¿…å¡«é”™è¯¯
    "description": "ç©ºå€¼ï¼ˆå¿…å¡«å­—æ®µï¼Œä½†å‰ç«¯æ— requiredï¼‰",
    "expected": "åç«¯æ‹’ç»ï¼ˆæ— å‰ç«¯æç¤ºï¼‰",
}
```

#### 10.3 å‰ç«¯HTMLå±æ€§æ£€æŸ¥æ–¹æ³•

åœ¨ç¼–å†™æµ‹è¯•å‰ï¼Œå¿…é¡»æ£€æŸ¥å‰ç«¯HTMLçš„å®é™…å±æ€§ï¼š

```python
# æ£€æŸ¥requiredå±æ€§
is_required = page.evaluate("""
    (() => {
        const el = document.querySelector('input[name="userName"]');
        return el ? el.hasAttribute('required') : null;
    })()
""")

# æ£€æŸ¥patternå±æ€§
has_pattern = page.evaluate("""
    (() => {
        const el = document.querySelector('input[name="userName"]');
        return el ? el.hasAttribute('pattern') : null;
    })()
""")

# æ£€æŸ¥maxlengthå±æ€§
maxlength = page.evaluate("""
    (() => {
        const el = document.querySelector('input[name="userName"]');
        return el ? el.getAttribute('maxlength') : null;
    })()
""")

logger.info(f"å‰ç«¯HTMLå±æ€§æ£€æŸ¥ï¼š")
logger.info(f"  - required: {is_required}")
logger.info(f"  - pattern: {has_pattern}")
logger.info(f"  - maxlength: {maxlength}")
```

#### 10.4 ABP Framework Identityæ¨¡å—å­—æ®µHTMLå±æ€§å‚è€ƒ

åŸºäº2024å¹´12æœˆçš„å®é™…æµ‹è¯•ç»“æœï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­—æ®µå     â”‚ åç«¯Required â”‚ åç«¯Pattern â”‚ å‰ç«¯required â”‚ å‰ç«¯pattern â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UserName    â”‚     âœ…       â”‚     âœ…      â”‚     âŒ       â”‚     âŒ      â”‚
â”‚ Email       â”‚     âœ…       â”‚     âœ…      â”‚     âŒ       â”‚  type=email â”‚
â”‚ Name        â”‚     âŒ       â”‚     âŒ      â”‚     âŒ       â”‚     âŒ      â”‚
â”‚ Surname     â”‚     âŒ       â”‚     âŒ      â”‚     âŒ       â”‚     âŒ      â”‚
â”‚ PhoneNumber â”‚     âŒ       â”‚     âŒ      â”‚     âŒ       â”‚     âŒ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ æ³¨æ„ï¼š
- UserNameå­—æ®µè™½ç„¶åç«¯å¿…å¡«+æ ¼å¼éªŒè¯ï¼Œä½†å‰ç«¯HTMLå®Œå…¨æ²¡æœ‰å¯¹åº”å±æ€§
- Emailå­—æ®µè™½ç„¶åç«¯å¿…å¡«ï¼Œä½†å‰ç«¯HTMLæ²¡æœ‰requiredå±æ€§ï¼ˆä»…æœ‰type="email"ï¼‰
- è¿™æ„å‘³ç€è¿™äº›å­—æ®µçš„æ— æ•ˆè¾“å…¥ä¸ä¼šè§¦å‘HTML5éªŒè¯é”™è¯¯ï¼Œåªèƒ½ä¾èµ–åç«¯æ‹’ç»
```

#### 10.5 input maxlengthå±æ€§çš„å½±å“

è¶…é•¿å­—ç¬¦é€šå¸¸ä¼šè¢«inputçš„`maxlength`å±æ€§é™åˆ¶ï¼Œä¸ä¼šè§¦å‘HTML5éªŒè¯é”™è¯¯ï¼š

```python
# âŒ é”™è¯¯çš„æµ‹è¯•é¢„æœŸï¼ˆå‡è®¾è¶…é•¿ä¼šè§¦å‘HTML5é”™è¯¯ï¼‰
{
    "name": "è¶…é•¿65å­—ç¬¦",
    "value": "X" * 65,
    "should_save": False,
    "should_error": True,  # âŒ é”™è¯¯ï¼maxlengthé™åˆ¶è¾“å…¥ï¼Œæ— HTML5éªŒè¯é”™è¯¯
}

# âœ… æ­£ç¡®çš„æµ‹è¯•é¢„æœŸ
{
    "name": "è¶…é•¿65å­—ç¬¦",
    "value": "X" * 65,
    "should_save": False,
    "should_error": False,  # âœ… æ­£ç¡®ï¼maxlengthé™åˆ¶è¾“å…¥ï¼Œæ— HTML5éªŒè¯é”™è¯¯
    "description": "è¶…è¿‡æœ€å¤§é•¿åº¦ï¼ˆè¢«input maxlengthé™åˆ¶ï¼‰",
    "expected": "è¢«inputé™åˆ¶æˆ–åç«¯æ‹’ç»",
}
```

**maxlengthè¡Œä¸º**ï¼š
- æµè§ˆå™¨ä¼šé˜»æ­¢ç”¨æˆ·è¾“å…¥è¶…è¿‡maxlengthçš„å­—ç¬¦
- Playwrightçš„`fill()`æ–¹æ³•ä¹Ÿä¼šéµå®ˆmaxlengthé™åˆ¶
- ä¸ä¼šè§¦å‘HTML5çš„`tooLong`éªŒè¯é”™è¯¯ï¼ˆå› ä¸ºè¾“å…¥æœ¬èº«å°±è¢«æˆªæ–­äº†ï¼‰
- åç«¯å¯èƒ½ä»ç„¶ä¼šæ‹’ç»ï¼ˆå¦‚æœæˆªæ–­åçš„å€¼ä¸ç¬¦åˆä¸šåŠ¡è§„åˆ™ï¼‰

#### 10.6 æµ‹è¯•é¢„æœŸè®¾ç½®å†³ç­–æ ‘

```
å¼€å§‹è®¾ç½®should_error
    â†“
æ˜¯å¦æœ‰HTML5éªŒè¯é”™è¯¯ï¼Ÿ
    â†“
    â”œâ”€ å‰ç«¯HTMLæœ‰requiredä¸”è¾“å…¥ä¸ºç©ºï¼Ÿ â†’ should_error=True
    â”œâ”€ å‰ç«¯HTMLæœ‰patternä¸”è¾“å…¥ä¸åŒ¹é…ï¼Ÿ â†’ should_error=True  
    â”œâ”€ å‰ç«¯type="email"ä¸”è¾“å…¥ä¸æ˜¯é‚®ç®±æ ¼å¼ï¼Ÿ â†’ should_error=True
    â”œâ”€ è¾“å…¥è¶…è¿‡maxlengthï¼Ÿ â†’ should_error=Falseï¼ˆè¢«maxlengthé™åˆ¶ï¼Œæ— éªŒè¯é”™è¯¯ï¼‰
    â””â”€ ä»¥ä¸Šéƒ½ä¸æ˜¯ï¼Ÿ â†’ should_error=Falseï¼ˆåªæœ‰åç«¯éªŒè¯ï¼Œæ— HTML5é”™è¯¯ï¼‰
```

#### 10.7 å‰ç«¯HTMLå±æ€§ç¼ºå¤±çš„æµ‹è¯•ç­–ç•¥

å½“å‘ç°å‰ç«¯HTMLç¼ºå°‘éªŒè¯å±æ€§æ—¶ï¼š

**ç­–ç•¥1ï¼šæ ‡è®°ä¸ºå‰ç«¯ä½“éªŒé—®é¢˜ï¼ˆæ¨èï¼‰**
```python
# æµ‹è¯•é¢„æœŸåŸºäºå‰ç«¯HTMLçš„çœŸå®çŠ¶æ€
"should_error": False,  # å‰ç«¯æ— éªŒè¯å±æ€§ï¼Œæ— HTML5é”™è¯¯

# åœ¨æ–­è¨€é€»è¾‘ä¸­åŒºåˆ†æµ‹è¯•å¤±è´¥å’Œä½“éªŒé—®é¢˜
is_frontend_bug = scenario['should_error'] and not has_error

if is_frontend_bug:
    logger.warning(f"âš ï¸ å‰ç«¯ä½“éªŒé—®é¢˜ï¼š{scenario['name']} åº”æ˜¾ç¤ºé”™è¯¯ä½†å‰ç«¯æ— æç¤º")
    logger.warning(f"   å»ºè®®ï¼šè™½ç„¶åç«¯æ­£ç¡®æ‹’ç»äº†ï¼Œä½†å‰ç«¯åº”æ·»åŠ HTML5éªŒè¯å±æ€§ä»¥æ”¹å–„ç”¨æˆ·ä½“éªŒ")
```

**ç­–ç•¥2ï¼šåœ¨æµ‹è¯•æ–‡æ¡£ä¸­è®°å½•å·®å¼‚**
```python
def test_username_field_validation(self, logged_in_profile_page):
    """
    TC-VALID-USERNAME-001: Usernameå­—æ®µå®Œæ•´éªŒè¯æµ‹è¯•
    
    âš ï¸ å·²çŸ¥é—®é¢˜ï¼š
    - åç«¯æœ‰æ ¼å¼éªŒè¯ï¼ˆæ­£åˆ™ï¼‰ï¼Œä½†å‰ç«¯HTMLæ— patternå±æ€§
    - åç«¯å¿…å¡«éªŒè¯ï¼Œä½†å‰ç«¯HTMLæ— requiredå±æ€§
    - å¯¼è‡´æ— æ•ˆè¾“å…¥åªèƒ½ä¾èµ–åç«¯æ‹’ç»ï¼Œå‰ç«¯æ— HTML5éªŒè¯é”™è¯¯æç¤º
    
    æµ‹è¯•é¢„æœŸå·²æ ¹æ®å‰ç«¯HTMLçš„å®é™…çŠ¶æ€è®¾ç½®ï¼ˆshould_error=Falseï¼‰
    """
```

#### 10.8 å‰ç«¯HTMLå±æ€§ç¼ºå¤±æ£€æŸ¥æ¸…å•

åœ¨ç¼–å†™è¾“å…¥éªŒè¯æµ‹è¯•å‰ï¼š
- [ ] æ£€æŸ¥åç«¯éªŒè¯è§„åˆ™ï¼ˆRequiredã€Patternã€MaxLengthï¼‰
- [ ] æ£€æŸ¥å‰ç«¯HTMLå±æ€§ï¼ˆrequiredã€patternã€maxlengthã€typeï¼‰
- [ ] å¯¹æ¯”å‰åç«¯å·®å¼‚ï¼Œè¯†åˆ«ç¼ºå¤±çš„HTML5éªŒè¯å±æ€§
- [ ] æ ¹æ®**å‰ç«¯HTMLçš„çœŸå®çŠ¶æ€**è®¾ç½®should_error
- [ ] åœ¨æµ‹è¯•æ–‡æ¡£ä¸­è®°å½•å‰åç«¯éªŒè¯å·®å¼‚
- [ ] å°†ç¼ºå¤±HTML5éªŒè¯çš„åœºæ™¯æ ‡è®°ä¸ºå‰ç«¯ä½“éªŒé—®é¢˜ï¼ˆä¸å½±å“æµ‹è¯•é€šè¿‡ï¼‰
- [ ] æ‰‹åŠ¨æµ‹è¯•2-3ä¸ªå…³é”®åœºæ™¯ï¼ŒéªŒè¯should_errorè®¾ç½®çš„å‡†ç¡®æ€§

### 11. ç»¼åˆæ¡ˆä¾‹ï¼šProfile Settingså­—æ®µéªŒè¯æµ‹è¯•æ€»ç»“ â­â­â­

#### 11.1 æµ‹è¯•èƒŒæ™¯

**æµ‹è¯•å¯¹è±¡**ï¼šABP Framework Identityæ¨¡å—çš„ç”¨æˆ·ä¸ªäººä¿¡æ¯ç¼–è¾‘åŠŸèƒ½  
**æµ‹è¯•èŒƒå›´**ï¼š5ä¸ªå¯ç¼–è¾‘å­—æ®µï¼ˆUserNameã€Emailã€Nameã€Surnameã€PhoneNumberï¼‰  
**æµ‹è¯•åœºæ™¯**ï¼š68ä¸ªéªŒè¯åœºæ™¯ï¼ˆæ ¼å¼ã€é•¿åº¦ã€å¿…å¡«ã€è¾¹ç•Œå€¼ï¼‰  
**æµ‹è¯•æ—¶é—´**ï¼š2024å¹´12æœˆ4æ—¥

#### 11.2 é‡åˆ°çš„ä¸»è¦é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

| é—®é¢˜ç±»å‹ | å…·ä½“è¡¨ç° | æ ¹æœ¬åŸå›  | è§£å†³æ–¹æ¡ˆ | è§„åˆ™ç« èŠ‚ |
|---------|---------|---------|---------|---------|
| æˆªå›¾æè¿°ä¸ç¬¦ | æˆªå›¾æœ‰é”™è¯¯ï¼Œæè¿°æ— é”™è¯¯ | é”™è¯¯æ£€æµ‹æ—¶æœºä¸å¯¹ | åŒé‡æ£€æµ‹ç­–ç•¥ | ç¬¬9èŠ‚ |
| æµ‹è¯•é¢„æœŸé”™è¯¯ | é¢„æœŸæœ‰é”™è¯¯ï¼Œå®é™…æ— é”™è¯¯ | æœªè€ƒè™‘å‰ç«¯HTMLå±æ€§ç¼ºå¤± | åŸºäºå‰ç«¯HTMLçœŸå®çŠ¶æ€è®¾ç½®é¢„æœŸ | ç¬¬10èŠ‚ |
| è¶…é•¿å­—ç¬¦é¢„æœŸé”™è¯¯ | é¢„æœŸæœ‰é”™è¯¯ï¼Œå®é™…æ— é”™è¯¯ | æœªè€ƒè™‘maxlengthé™åˆ¶ | should_error=False | ç¬¬10.5èŠ‚ |
| æ–­è¨€é€»è¾‘é”™è¯¯ | å‰ç«¯ä½“éªŒé—®é¢˜å¯¼è‡´æµ‹è¯•å¤±è´¥ | æ··æ·†äº†æµ‹è¯•å¤±è´¥å’Œä½“éªŒé—®é¢˜ | åŒºåˆ†å¤±è´¥å’Œwarning | ç¬¬8.3èŠ‚ |

#### 11.3 ä¿®å¤è¿‡ç¨‹

**ç¬¬1è½®æµ‹è¯•**ï¼š4ä¸ªæµ‹è¯•å¤±è´¥
- Usernameå­—æ®µï¼š4ä¸ªæ— æ•ˆæ ¼å¼åœºæ™¯ + 1ä¸ªç©ºå€¼åœºæ™¯å¤±è´¥
- Nameå­—æ®µï¼š1ä¸ªè¶…é•¿åœºæ™¯å¤±è´¥  
- Surnameå­—æ®µï¼š1ä¸ªè¶…é•¿åœºæ™¯å¤±è´¥
- Phoneå­—æ®µï¼š1ä¸ªè¶…é•¿åœºæ™¯å¤±è´¥

**é—®é¢˜è¯Šæ–­**ï¼š
- æˆªå›¾æ˜¾ç¤ºæœ‰/æ— é”™è¯¯æç¤º
- ä½†ä»£ç æ£€æµ‹ä¸º`has_error=False`
- åŸå› ï¼šé”™è¯¯æ£€æµ‹æ—¶æœºé—®é¢˜ + æµ‹è¯•é¢„æœŸè®¾ç½®é”™è¯¯

**ä¿®å¤æªæ–½**ï¼š
1. æ·»åŠ å»¶è¿Ÿé”™è¯¯æ£€æµ‹æœºåˆ¶ï¼ˆåœ¨æˆªå›¾å‰å†æ¬¡æ£€æµ‹ï¼‰
2. ä¿®æ­£è¶…é•¿å­—ç¬¦åœºæ™¯çš„should_errorï¼ˆFalseï¼Œå› ä¸ºmaxlengthé™åˆ¶ï¼‰
3. ä¿®æ­£Usernameæ— æ•ˆæ ¼å¼åœºæ™¯çš„should_errorï¼ˆFalseï¼Œå› ä¸ºå‰ç«¯æ— patternï¼‰
4. ä¿®æ­£Usernameç©ºå€¼åœºæ™¯çš„should_errorï¼ˆFalseï¼Œå› ä¸ºå‰ç«¯æ— requiredï¼‰

**ç¬¬2è½®æµ‹è¯•**ï¼šâœ… å…¨éƒ¨é€šè¿‡ï¼ˆ8/8ï¼‰
- é€šè¿‡ç‡ï¼š100%
- æ‰§è¡Œæ—¶é—´ï¼š11åˆ†18ç§’
- æ‰€æœ‰æˆªå›¾å’Œæè¿°å®Œå…¨ä¸€è‡´
- å‰ç«¯ä½“éªŒé—®é¢˜ä½œä¸ºwarningæ ‡è®°ï¼Œä¸å½±å“æµ‹è¯•é€šè¿‡

#### 11.4 å…³é”®ç»éªŒæ€»ç»“

1. **æµ‹è¯•é¢„æœŸå¿…é¡»åŸºäºå‰ç«¯HTMLçš„çœŸå®çŠ¶æ€**ï¼Œè€Œéåç«¯éªŒè¯è§„åˆ™
2. **é”™è¯¯æ£€æµ‹éœ€è¦è€ƒè™‘å»¶è¿Ÿæ˜¾ç¤º**ï¼Œå°¤å…¶æ˜¯Toastç­‰åŠ¨æ€æç¤º
3. **å‰åç«¯éªŒè¯å·®å¼‚åº”æ ‡è®°ä¸ºå‰ç«¯ä½“éªŒé—®é¢˜**ï¼Œè€Œéæµ‹è¯•å¤±è´¥
4. **æµ‹è¯•å‰å¿…é¡»æ£€æŸ¥å‰ç«¯HTMLå±æ€§**ï¼ˆrequiredã€patternã€maxlengthï¼‰
5. **æˆªå›¾æ—¶æœºå¿…é¡»åœ¨é”™è¯¯æ£€æµ‹ä¹‹å**ï¼Œç¡®ä¿æè¿°ä¸æˆªå›¾ä¸€è‡´

#### 11.5 æœ€ç»ˆæµ‹è¯•ç»“æœ

```
æµ‹è¯•ç”¨ä¾‹æ€»æ•°ï¼š8ä¸ª
éªŒè¯åœºæ™¯æ€»æ•°ï¼š68ä¸ª
æµ‹è¯•é€šè¿‡ç‡ï¼š100% âœ…
æ‰§è¡Œæ—¶é—´ï¼š678ç§’ï¼ˆ11åˆ†18ç§’ï¼‰

åœºæ™¯åˆ†å¸ƒï¼š
- Usernameï¼š15ä¸ªåœºæ™¯ï¼ˆ5æœ‰æ•ˆ+4æ— æ•ˆæ ¼å¼+5é•¿åº¦+1å¿…å¡«ï¼‰
- Emailï¼š15ä¸ªåœºæ™¯ï¼ˆ5æœ‰æ•ˆ+3æ— æ•ˆæ ¼å¼+5é•¿åº¦+1è¾¹ç•Œ+1å¿…å¡«ï¼‰
- Nameï¼š12ä¸ªåœºæ™¯ï¼ˆ5æœ‰æ•ˆ+5é•¿åº¦+2ç‰¹æ®Šï¼‰
- Surnameï¼š12ä¸ªåœºæ™¯ï¼ˆ5æœ‰æ•ˆ+5é•¿åº¦+2ç‰¹æ®Šï¼‰
- Phoneï¼š14ä¸ªåœºæ™¯ï¼ˆ8æ ¼å¼+5é•¿åº¦+1ç‰¹æ®Šï¼‰

å‰ç«¯ä½“éªŒé—®é¢˜æ ‡è®°ï¼š4ä¸ª
- UsernameåŒ…å«ç©ºæ ¼ã€ç‰¹æ®Šå­—ç¬¦1ã€ç‰¹æ®Šå­—ç¬¦2ã€ä¸­æ–‡å­—ç¬¦
- è¿™äº›åœºæ™¯åç«¯æ­£ç¡®æ‹’ç»ï¼Œä½†å‰ç«¯æ— HTML5éªŒè¯æç¤º

æ‰€æœ‰æˆªå›¾ä¸æè¿°å®Œå…¨ä¸€è‡´ âœ…
æ‰€æœ‰æ–­è¨€é€»è¾‘æ­£ç¡® âœ…
```

#### 11.6 ç»™æœªæ¥æµ‹è¯•å¼€å‘è€…çš„å»ºè®®

1. **æ°¸è¿œä¸è¦å‡è®¾å‰ç«¯æœ‰å®Œæ•´çš„HTML5éªŒè¯å±æ€§**
2. **æµ‹è¯•å‰ç”¨JavaScriptæ£€æŸ¥å‰ç«¯HTMLçš„çœŸå®å±æ€§**
3. **æ ¹æ®å‰ç«¯HTMLçœŸå®çŠ¶æ€è®¾ç½®should_errorï¼Œè€Œéåç«¯è§„åˆ™**
4. **ä¸ºå»¶è¿Ÿæ˜¾ç¤ºçš„é”™è¯¯æç¤ºé¢„ç•™ç¬¬äºŒæ¬¡æ£€æµ‹æœºä¼š**
5. **å°†å‰åç«¯éªŒè¯å·®å¼‚ä½œä¸ºå‰ç«¯ä½“éªŒé—®é¢˜æ ‡è®°ï¼Œä¸ä½œä¸ºæµ‹è¯•å¤±è´¥**
6. **åœ¨æµ‹è¯•æ–‡æ¡£ä¸­æ¸…æ™°è®°å½•å·²çŸ¥çš„å‰åç«¯éªŒè¯å·®å¼‚**

æ„¿è¿™äº›ç»éªŒï¼Œè®©æœªæ¥çš„æµ‹è¯•ä¹‹è·¯æ›´åŠ å¹³å¦ ğŸŒŸğŸŒŒ
